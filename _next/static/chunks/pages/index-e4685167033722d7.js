(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(6209)}])},6209:function(e,t,i){"use strict";i.r(t);var a=i(4386),o=i(917),s=i(3631),l=i(6172),n=i(3450),r=i(1752),c=i.n(r),d=i(1664),p=i.n(d),u=i(1163),g=i(7294),m=i(4173);i(2130);var h=i(6358),b=i(3410),E=i(9809),S=i(7541),_=i(6069),v=i.n(_);let{publicRuntimeConfig:I}=c()();t.default=()=>{let e=I&&I.basePath||"";(0,g.useLayoutEffect)(b.Q5);let t=(0,u.useRouter)(),i=t.query.MODEL_IMAGE,[r,c]=(0,g.useState)("string"==typeof i?i:null),[d,_]=(0,g.useState)(h.LA.USE_ROTATE[0].label),[f,L]=(0,g.useState)(h.LA.FALL_SPEED[0].label),[N,Z]=(0,g.useState)(h.LA.DIVIDER_NUM[0].label);return(0,g.useEffect)(()=>{let e=sessionStorage.getItem("modelImage");e&&(0,b.R4)(e).then(e=>{c(e||r)});let t=sessionStorage.getItem("useRotate"),i=sessionStorage.getItem("fallSpeed"),a=sessionStorage.getItem("divider");t&&_(t),i&&L(i),a&&Z(a)},[]),(0,a.tZ)(a.HY,{children:(0,a.BX)("main",{css:(0,o.iv)({paddingTop:"20px",overflow:"hidden",backgroundImage:"url('".concat(e,"/img/home/bk.webp')"),backgroundSize:"cover",backgroundRepeat:"no-repeat"}),children:[(0,a.tZ)(m.Ix,{style:{top:"10px"}}),(0,a.tZ)(p(),{href:"/createImage",css:(0,o.iv)({color:"white",fontSize:"20px",position:"fixed",top:"0",right:"0",padding:"27px",textDecoration:"underline",cursor:"pointer",backgroundColor:"rgba(0,0,0,0.6)",zIndex:"1","@media only screen and (max-width:767px)":{padding:"15px"}}),children:"AIで画像を生成する"}),(0,a.tZ)("div",{className:v().title,children:(0,a.tZ)("img",{src:"".concat(e,"/img/home/titleLogo.webp"),alt:"etris",sizes:"100%",style:{width:"100%",height:"auto"}})}),(0,a.BX)("div",{className:v().contentWrapper,children:[(0,a.tZ)(s.Z,{className:v().uploader,onDrop:e=>{let t=window.URL.createObjectURL(e[0]);c(t),sessionStorage.setItem("modelImage",t)},children:(0,a.BX)("div",{className:v().uploader__wrapper,css:(0,o.iv)({position:"relative"}),children:[(0,a.BX)("div",{css:(0,o.iv)({height:"100%",display:r?"block":"none"}),children:[null!==r&&(0,a.tZ)("div",{css:{position:"absolute",bottom:"-33%",right:"-33%",width:"80%",pointerEvents:"none"},children:(0,a.tZ)(n.Z,{json:E})}),(0,a.tZ)("img",{alt:"",className:v().uploader__img,src:r||""})]}),(0,a.BX)("div",{css:(0,o.iv)({display:r?"none":"block"}),children:[(0,a.tZ)(n.Z,{json:S}),(0,a.tZ)("img",{alt:"クリックして画像をアップロードしてください",src:"".concat(e,"/img/icon/upload.png"),css:(0,o.iv)({position:"absolute",left:"0",right:"0",top:"0",bottom:"0",margin:"auto",width:"13%"})})]})]})}),(0,a.tZ)("div",{className:v().playSetting,children:(0,a.tZ)(l.Z,{labelMaxStringNum:4,settings:[{label:"回転",rollProps:{initLabel:d,options:h.LA.USE_ROTATE,clickCallBack:(e,t)=>{_(t),sessionStorage.setItem("useRotate",t)},valueStringNum:4}},{label:"自動落下",rollProps:{initLabel:f,options:h.LA.FALL_SPEED,clickCallBack:(e,t)=>{"なし"===f&&"なし"!==t&&m.Am.info("自動落下があるとゲームオーバーのリスクがあり、難易度が跳ね上がります。最初はなしで実施することをお勧めします。",{position:"top-center"}),L(t),sessionStorage.setItem("fallSpeed",t)},valueStringNum:4}},{label:"分割数",rollProps:{initLabel:N,options:h.LA.DIVIDER_NUM,clickCallBack:(e,t)=>{Z(t),sessionStorage.setItem("divider",t)},valueStringNum:4}}]})}),(0,a.BX)("button",{className:v().playButtomWrapper,disabled:null===r,onClick:()=>{r&&t.push({pathname:"play",query:{MODEL_IMAGE:r,USE_ROTATE:d,FALL_SPEED:f,DIVIDER_NUM:N}})},children:[(0,a.tZ)("span",{className:v().playImg}),(0,a.tZ)("span",{className:v().playButton,children:"この画像で遊ぶ"})]})]})]})})}}},function(e){e.O(0,[498,802,160,143,184,964,912,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);