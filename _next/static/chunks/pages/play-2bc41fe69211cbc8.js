(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[141],{7454:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/play",function(){return n(9302)}])},752:function(t,e,n){"use strict";n.d(e,{N:function(){return o}});var i=n(7294);let o=()=>{let[t,e]=(0,i.useState)([0,0]);return(0,i.useLayoutEffect)(()=>{let t=()=>{e([document.documentElement.clientWidth,document.documentElement.clientHeight])};return window.addEventListener("resize",t),t(),()=>window.removeEventListener("resize",t)},[]),t}},9302:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return ts}});var i=n(4386),o=n(917),s=n(1752),r=n.n(s),a=n(7294),l=n(6507),h=n.n(l);let{publicRuntimeConfig:c}=r()(),d=(0,o.iv)({opacity:"0.2",pointerEvents:"none"});var f=t=>{let{arrowUp:e,arrowLeft:n,arrowRight:o,arrowDown:s,rotateLeft:r,rotateRight:l,disabledLeft:f,disabledRight:u,disabledUp:m,disabledBottom:w,disabledL:g,disabledR:p}=t,b=c&&c.basePath||"",x=(t,e)=>{y.current=e,window.setTimeout(()=>{y.current===e&&(M.current=window.setInterval(()=>{t()},100),y.current=0)},500)},k=()=>{window.clearInterval(M.current),y.current=0},y=(0,a.useRef)(0),M=(0,a.useRef)(0);return(0,i.BX)(i.HY,{children:[(0,i.BX)("div",{className:h().crossKeyWrapper,children:[(0,i.tZ)("button",{type:"button",className:"".concat(h().arrow," ").concat(h().arrow__up),style:{backgroundImage:"url('".concat(b,"/img/home/cont-button.png')")},onClick:e,onPointerDown:()=>{k(),x(e,1)},css:m?d:void 0,onPointerUp:k,onPointerOut:k}),(0,i.tZ)("button",{type:"button",className:"".concat(h().arrow," ").concat(h().arrow__left),style:{backgroundImage:"url('".concat(b,"/img/home/cont-button.png')")},onClick:n,onPointerDown:()=>{k(),x(n,2)},css:f?d:void 0,onPointerUp:k,onPointerOut:k}),(0,i.tZ)("button",{type:"button",className:"".concat(h().arrow," ").concat(h().arrow__right),style:{backgroundImage:"url('".concat(b,"/img/home/cont-button.png')")},onClick:o,onPointerDown:()=>{k(),x(o,3)},css:u?d:void 0,onPointerUp:k,onPointerOut:k}),(0,i.tZ)("button",{type:"button",className:"".concat(h().arrow," ").concat(h().arrow__down),style:{backgroundImage:"url('".concat(b,"/img/home/cont-button.png')")},onClick:s,onPointerDown:()=>{k(),x(s,4)},css:w?d:void 0,onPointerUp:k,onPointerOut:k})]}),(0,i.tZ)("div",{className:h().LRWrapper,children:(0,i.BX)("div",{className:h().LRWrapper__row,children:[(0,i.tZ)("button",{type:"button",className:"".concat(h().rotate),style:{backgroundImage:"url('".concat(b,"/img/home/l-button.png')"),userSelect:"none"},onClick:r,css:g?d:void 0}),(0,i.tZ)("button",{type:"button",className:"".concat(h().rotate),style:{backgroundImage:"url('".concat(b,"/img/home/r-button.png')"),userSelect:"none"},onClick:l,css:p?d:void 0})]})})]})},u=n(752),m=n(990),w=n(3410);class g{getMinoId(){return this.minoId}setMinoId(t){this.minoId=t}getNowPositionX(){return this.nowPosition[1]}getNowPositionY(){return this.nowPosition[0]}getAnsPositionX(){return this.ansPosition[1]}getAnsPositionY(){return this.ansPosition[0]}setNowPosition(t){this.nowPosition=t}setAnsPosition(t){this.ansPosition=t}getMinoInfo(){return this.minoInfo}setMinoInfo(t){this.minoInfo=t}getRotate(){return this.rotate}checkNowPositionIsAnsPosition(){return this.nowPosition[0]===this.ansPosition[0]&&this.nowPosition[1]===this.ansPosition[1]&&0===this.rotate}right(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.nowPosition[1]+=1}left(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.nowPosition[1]-=1}down(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.nowPosition[0]+=t}up(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.nowPosition[0]-=t}minoRotateLeft90(){this.minoInfo=(0,w.lq)(this.minoInfo),this.rotate>0?this.rotate-=1:this.rotate=3}minoRotateRight90(){this.minoInfo=(0,w.lD)(this.minoInfo),this.rotate<3?this.rotate+=1:this.rotate=0}changeMinoNumber(t){for(let e=0;e<this.minoInfo.length;e++)for(let n=0;n<this.minoInfo[e].length;n++)""!==this.minoInfo[e][n]&&(this.minoInfo[e][n]=t.toString())}constructor(t,e){this.minoInfo=t,this.ansPosition=e,this.nowPosition=[-1,0],this.minoId="",this.rotate=0}}var p=n(6358);class b{addAllKeyEventHandle(){document.removeEventListener("keydown",this.keyBoardEvent),document.addEventListener("keydown",this.keyBoardEvent)}keyUpEvent(){this.isUseUp&&this.canUp()&&(this.nowMino.up(),this.nowFieldShape=this.getChangeField(this.nowMino),"function"==typeof this.render&&this.render({blockSize:this.blockSize,minoIndex:this.nowMino.getMinoId(),minoTransform:{x:this.nowMino.getNowPositionX(),y:this.nowMino.getNowPositionY(),rotate:this.nowMino.getRotate()}}))}keyDownEvent(){this.nowMino.checkNowPositionIsAnsPosition()||(this.canDown()?(this.nowMino.down(),this.nowFieldShape=this.getChangeField(this.nowMino),"function"==typeof this.render&&this.render({blockSize:this.blockSize,minoIndex:this.nowMino.getMinoId(),minoTransform:{x:this.nowMino.getNowPositionX(),y:this.nowMino.getNowPositionY(),rotate:this.nowMino.getRotate()}})):this.isUseUp?this.conflictCallback(this.nowMino.getMinoId()):this.gameOver())}keyRightEvent(){this.canRight()?(this.nowMino.right(),this.nowFieldShape=this.getChangeField(this.nowMino),"function"==typeof this.render&&this.render({blockSize:this.blockSize,minoIndex:this.nowMino.getMinoId(),minoTransform:{x:this.nowMino.getNowPositionX(),y:this.nowMino.getNowPositionY(),rotate:this.nowMino.getRotate()}})):this.conflictCallback(this.nowMino.getMinoId())}keyLeftEvent(){this.canLeft()?(this.nowMino.left(),this.nowFieldShape=this.getChangeField(this.nowMino),"function"==typeof this.render&&this.render({blockSize:this.blockSize,minoIndex:this.nowMino.getMinoId(),minoTransform:{x:this.nowMino.getNowPositionX(),y:this.nowMino.getNowPositionY(),rotate:this.nowMino.getRotate()}})):this.conflictCallback(this.nowMino.getMinoId())}keyLRotateEvent(){this.isUseRotate&&this.nowMinoRotateLeft90()?(this.nowFieldShape=this.getChangeField(this.nowMino),"function"==typeof this.render&&this.render({blockSize:this.blockSize,minoIndex:this.nowMino.getMinoId(),minoTransform:{x:this.nowMino.getNowPositionX(),y:this.nowMino.getNowPositionY(),rotate:this.nowMino.getRotate()}})):this.conflictCallback(this.nowMino.getMinoId())}keyRRotateEvent(){this.isUseRotate&&this.nowMinoRotateRight90()?(this.nowFieldShape=this.getChangeField(this.nowMino),"function"==typeof this.render&&this.render({blockSize:this.blockSize,minoIndex:this.nowMino.getMinoId(),minoTransform:{x:this.nowMino.getNowPositionX(),y:this.nowMino.getNowPositionY(),rotate:this.nowMino.getRotate()}})):this.conflictCallback(this.nowMino.getMinoId())}constructor(t,e,n,i,o,s,r,a,l,h,c,d){var f,u;this.getNowFieldShape=()=>this.nowFieldShape,this.getNowMino=()=>this.nowMino,this.start=()=>{this.isAlredyStart||(this.normalizeMinos(),this.createBlankField(),this.changeRandomNextMino(),this.addAllKeyEventHandle(),this.nowFieldShape=this.getChangeField(this.nowMino),this.render({blockSize:this.blockSize,minoIndex:this.nowMino.getMinoId(),minoTransform:{x:this.nowMino.getNowPositionX(),y:this.nowMino.getNowPositionY(),rotate:this.nowMino.getRotate()},isChangeMino:!0}),this.fallSpeed>=1&&(this.alwaysInterval=window.setInterval(this.always,this.fallSpeed)),this.isAlredyStart=!0)},this.createBlankField=()=>{for(let e=0;e<p.LA.blankHeight;e++){var t=[];for(let e=0;e<this.width;e++)t.push(["",0,!1,0]);this.nowFieldShape.unshift(t)}for(let t=0;t<this.normalizeMinosInfo.length;t++)for(let e=0;e<this.normalizeMinosInfo[t].length;e++)for(let n=0;n<this.normalizeMinosInfo[t][e].length;n++)this.normalizeMinosInfo[t][e][n].setAnsPosition([this.normalizeMinosInfo[t][e][n].getAnsPositionY()+p.LA.blankHeight,this.normalizeMinosInfo[t][e][n].getAnsPositionX()])},this.always=()=>{this.nowMino.checkNowPositionIsAnsPosition()?(this.contactCount=this.contactCount+1,this.confirmField(),this.changeRandomNextMino(),this.nowFieldShape=this.getChangeField(this.nowMino),"function"==typeof this.render&&this.render({blockSize:this.blockSize,minoIndex:this.nowMino.getMinoId(),minoTransform:{x:this.nowMino.getNowPositionX(),y:this.nowMino.getNowPositionY(),rotate:this.nowMino.getRotate()},isChangeMino:!0})):this.canDown()?(this.nowMino.down(),this.nowFieldShape=this.getChangeField(this.nowMino),"function"==typeof this.render&&this.render({blockSize:this.blockSize,minoIndex:this.nowMino.getMinoId(),minoTransform:{x:this.nowMino.getNowPositionX(),y:this.nowMino.getNowPositionY(),rotate:this.nowMino.getRotate()}})):this.isUseUp||this.gameOver()},this.changeRandomNextMino=()=>{if(0===this.normalizeMinosInfo.length){this.gameClear();return}let t=Math.floor(Math.random()*this.normalizeMinosInfo.length),e=Math.floor(Math.random()*this.normalizeMinosInfo[t][0].length);if(this.nowMino=this.normalizeMinosInfo[t][0][e],this.isUseRotate){let t=Math.floor(4*Math.random());for(let e=0;e<t;e++)this.nowMino.minoRotateRight90()}this.resolveConflict(),this.normalizeMinosInfo[t][0][e]="",this.normalizeMinosInfo=(0,w.Op)(this.normalizeMinosInfo,"")},this.normalizeMinos=()=>{for(let t=0;t<this.nowFieldShape[0].length;t++){let e=[],n=this.findMinosFromPosition(t,this.nowFieldShape.length-1);if(null!==n){e.push([n]);let t=[1,1];for(;t.length>=1;){t=[];let n=e[e.length-1];for(let e=0;e<n.length;e++){let i=this.findAbobeMinos(n[e].getAnsPositionX(),n[e].getAnsPositionY(),n[e].getMinoInfo());if(null!==i)for(let e=0;e<i.length;e++)t.push(i[e])}t.length>=1&&e.push(t)}}e.length>=1&&this.normalizeMinosInfo.push(e)}},this.findAbobeMinos=(t,e,n)=>{let i=[];for(let o=0;o<n.length;o++)for(let s=0;s<n[o].length;s++)if(""!==n[o][s]){let n=this.findMinosFromPosition(s+t,o+e-1);null!==n&&i.push(n)}return i.length>0?i:null},this.findMinosFromPosition=(t,e)=>{for(let n=this.minosInfo.length-1;n>=0;n--){let i=this.minosInfo[n],o=i.getAnsPositionX(),s=i.getAnsPositionY(),r=i.getMinoInfo();if(r[0].length>t-o&&r.length>e-s&&e-s>=0&&t-o>=0&&""!==r[e-s][t-o])return this.minosInfo.splice(n,1),i}return null},this.changeNextMino=()=>{this.nowMino=this.minosInfo.shift()},this.canRight=()=>{let t=1,e=this.nowMino.getNowPositionX(),n=this.nowMino.getNowPositionY(),i=this.nowMino.getMinoInfo();for(;;){if(this.checkConflict(e+t,n,i))return!0;if(e+ ++t>this.width)return!1}},this.canLeft=()=>{let t=1,e=this.nowMino.getNowPositionX(),n=this.nowMino.getNowPositionY(),i=this.nowMino.getMinoInfo();for(;;){if(this.checkConflict(e-t,n,i))return!0;if(e-++t<0)return!1}},this.canDown=()=>{let t=1,e=this.nowMino.getNowPositionX(),n=this.nowMino.getNowPositionY(),i=this.nowMino.getMinoInfo();for(;;){if(this.checkConflict(e,n+t,i))return!0;if(n+ ++t>this.nowFieldShape.length)return!1}},this.canUp=()=>{let t=1,e=this.nowMino.getNowPositionX(),n=this.nowMino.getNowPositionY(),i=this.nowMino.getMinoInfo();for(;;){if(this.checkConflict(e,n-t,i))return!0;if(n-++t<0)return!1}},this.nowMinoRotateLeft90=()=>(this.nowMino.minoRotateLeft90(),!!this.checkConflictField(this.nowMino.getNowPositionX(),this.nowMino.getNowPositionY(),this.nowMino.getMinoInfo())||(this.nowMino.minoRotateRight90(),!1)),this.nowMinoRotateRight90=()=>(this.nowMino.minoRotateRight90(),!!this.checkConflictField(this.nowMino.getNowPositionX(),this.nowMino.getNowPositionY(),this.nowMino.getMinoInfo())||(this.nowMino.minoRotateLeft90(),!1)),this.checkConflict=(t,e,n)=>{for(let i=0;i<n.length;i++)for(let o=0;o<n[i].length;o++)if(""!==n[i][o]&&(this.nowFieldShape.length<e+i+1||this.nowFieldShape[0].length<t+o+1||t+o<0||e+i<0||2===this.nowFieldShape[e+i][t+o][1]))return!1;return!0},this.checkConflictField=(t,e,n)=>{for(let i=0;i<n.length;i++)for(let o=0;o<n[i].length;o++)if(""!==n[i][o]&&(this.nowFieldShape.length<e+i+1||this.nowFieldShape[0].length<t+o+1||t+o<0||e+i<0))return!1;return!0},this.checkOverHangRight=(t,e,n)=>{for(let e=0;e<n.length;e++)for(let i=0;i<n[e].length;i++)if(""!==n[e][i]&&this.nowFieldShape[0].length<t+i+1)return!1;return!0},this.resolveConflict=()=>{let t,e,n;let i=1;for(t=this.nowMino.getNowPositionX(),e=this.nowMino.getNowPositionY(),n=this.nowMino.getMinoInfo();0!==i;){for(let o=0;o<n.length;o++){let s=!1;for(let i=0;i<n[o].length;i++)if(""!==n[o][i]){if(e+o<0){this.nowMino.down(),s=!0;continue}if(t+i<0){this.nowMino.right(),s=!0;continue}}if(s){t=this.nowMino.getNowPositionX(),e=this.nowMino.getNowPositionY(),n=this.nowMino.getMinoInfo(),i++;continue}}0!==i&&(i=0)}},this.getChangeField=t=>{let e=t.getNowPositionX(),n=t.getNowPositionY(),i=t.getMinoInfo(),o=t.getRotate(),s=this.nowFieldShape;for(let t=0;t<s.length;t++)for(let e=0;e<s[t].length;e++)1===s[t][e][1]&&(s[t][e][1]=0,s[t][e][0]="");for(let t=0;t<i.length;t++)for(let r=0;r<i[t].length;r++){let a=i[t][r];""!==a&&2!==s[n+t][e+r][1]&&(s[n+t][e+r][1]=1,s[n+t][e+r][0]=a,s[n+t][e+r][3]=o)}return s},this.confirmField=()=>{for(let t=0;t<this.nowFieldShape.length;t++)for(let e=0;e<this.nowFieldShape[t].length;e++)1===this.nowFieldShape[t][e][1]&&(this.nowFieldShape[t][e][1]=2)},this.gameOver=()=>{this.gameOverCallBack(),this.isGameOver=!0,document.removeEventListener("keydown",this.keyBoardEvent),window.clearInterval(this.alwaysInterval)},this.gameClear=()=>{this.isGameOver||(this.gameClearCallBack(),document.removeEventListener("keydown",this.keyBoardEvent),window.clearInterval(this.alwaysInterval))},this.checkAnserPosi=()=>{this.nowMino.checkNowPositionIsAnsPosition()&&(this.contactCount=this.contactCount+1,this.confirmField(),this.changeRandomNextMino(),this.nowFieldShape=this.getChangeField(this.nowMino),this.render({blockSize:this.blockSize,minoIndex:this.nowMino.getMinoId(),minoTransform:{x:this.nowMino.getNowPositionX(),y:this.nowMino.getNowPositionY(),rotate:this.nowMino.getRotate()},isChangeMino:!0}),this.successCallback(this.nowMino))},this.keyBoardEvent=t=>{if(!this.isGameOver){switch(t.code){case"ArrowUp":this.keyUpEvent();break;case"ArrowDown":this.keyDownEvent();break;case"ArrowRight":this.keyRightEvent();break;case"ArrowLeft":this.keyLeftEvent();break;case"Slash":this.keyLRotateEvent();break;case"IntlRo":this.keyRRotateEvent()}this.checkAnserPosi()}},this.addMinosInfo=t=>{this.minosInfo.push(t)},this.splitField=()=>{this.changeNextMino();let t=1;this.nowMino.changeMinoNumber(t);let e=0,n=[1,1];for(;;)if(this.canDown())this.nowMino.down(),e=0,this.nowFieldShape=this.getChangeField(this.nowMino);else if(this.checkOverHangRight(this.nowMino.getNowPositionX()+1,this.nowMino.getNowPositionY(),this.nowMino.getMinoInfo()))this.nowMino.right();else if(this.minosInfo.length>=1)this.confirmField(),this.changeNextMino(),t++,e=0,this.nowMino.changeMinoNumber(t);else{if(0==e)this.confirmField(),t++,n=(0,w.r)(p.L5.slice());else if(n.splice(0,1),0===n.length)break;this.nowMino=new g(n[0],[]),e++,this.nowMino.changeMinoNumber(t)}return this.addBlockRandomContactMinos(),this.nowFieldShape},this.addBlockRandomContactMinos=()=>{for(;!this.checkFieldFilled();){let t=1,e=1;for(;e>=1;){let n=this.getPositionsSameValueFromField(t.toString());e=n.length;let i=[];for(let t=e-1;t>=0;t--){let e=n[t][1],o=n[t][0];this.nowFieldShape.length>o+1&&""===this.nowFieldShape[o+1][e][0]&&i.push([o+1,e]),o-1>=0&&""===this.nowFieldShape[o-1][e][0]&&i.push([o-1,e]),this.nowFieldShape[0].length>e+1&&""===this.nowFieldShape[o][e+1][0]&&i.push([o,e+1]),e-1>=0&&""===this.nowFieldShape[o][e-1][0]&&i.push([o,e-1])}if(i.length>0){let e=i[(0,w.DV)(i)];this.nowFieldShape[e[0]][e[1]][0]=t.toString()}t++}}},this.checkFieldFilled=()=>{for(let t=this.nowFieldShape.length-1;t>=0;t--)for(let e=this.nowFieldShape[t].length-1;e>=0;e--)if(""===this.nowFieldShape[t][e][0])return!1;return!0},this.destroy=()=>{document.removeEventListener("keydown",this.keyBoardEvent)},this.getPositionsSameValueFromField=t=>{let e=[];for(let n=0;n<this.nowFieldShape.length;n++)for(let i=0;i<this.nowFieldShape[n].length;i++)this.nowFieldShape[n][i][0]===t&&e.push([n,i]);return e},this.setBlockSize=t=>{this.blockSize=t},this.nowFieldShape=[];for(let n=0;n<e;n++){var m=[];for(let e=0;e<t;e++)m.push(["",0,!0,0]);this.nowFieldShape.push(m)}this.minosInfo=[];for(let t=0;t<n.length;t++){let e=new g(n[t],i[t]);e.setMinoId(String(t)),this.minosInfo.push(e)}this.normalizeMinosInfo=[],this.nowMino=this.minosInfo[0],this.endCount=0,this.contactCount=0,this.blockSize=0,this.render=o,this.successCallback=s,this.conflictCallback=r,this.width=t,this.height=e,this.gameClearCallBack=a,this.gameOverCallBack=l,this.isGameOver=!1,this.isAlredyStart=!1,this.isUseUp=d===p.LA.FALL_SPEED[0].label,this.isUseRotate=(null===(f=p.LA.USE_UP.find(t=>t.label===c))||void 0===f?void 0:f.value)||p.LA.USE_ROTATE[0].value,this.fallSpeed=(null===(u=p.LA.FALL_SPEED.find(t=>t.label===d))||void 0===u?void 0:u.value)||p.LA.FALL_SPEED[0].value}}var x=n(1822),k=n.n(x),y=t=>{let{imgPath:e,width:n}=t;return(0,i.BX)(i.HY,{children:[""===e?(0,i.tZ)("div",{className:k().dynamic([["e0f6d77aec006cde",[n]]])+" block"}):(0,i.tZ)("img",{src:e,className:k().dynamic([["e0f6d77aec006cde",[n]]])+" block"}),(0,i.tZ)(k(),{id:"e0f6d77aec006cde",dynamic:[n],children:".block.__jsx-style-dynamic-selector{width:".concat(n,"px;aspect-ratio:1/1}")})]})};let M=t=>{let{width:e,shape:n,cssStyle:s}=t;return(0,i.tZ)("div",{css:s,children:n.map((t,n)=>{let s=t.map((t,o)=>(0,i.tZ)(y,{imgPath:t,width:e},"".concat(n,",").concat(o)));return(0,i.tZ)("div",{css:(0,o.iv)({display:"flex"}),children:s},n)})})},v=t=>{let{blockSize:e,minosInfo:n,minoIndex:i,minoTransform:o,minoRefs:s,init:r}=t,a={x:0,y:0},l=n[i][0].length-n[i].length,h=Math.abs(o.rotate%4);(1===h||3===h)&&(a={x:-l/2,y:l/2}),m.ZP.to(s.current[i].current,{x:(o.x+a.x)*e,y:(o.y+a.y)*e,rotation:90*o.rotate,duration:r?0:.5})},_=t=>{let{width:e,height:n,minosInfo:s,ansPositions:r,gameClearCallBack:l,gameOverCallBack:h,useUp:c,useRotate:d,speed:f,blockSize:u}=t,m=(0,a.useRef)(!1),w=(0,a.useRef)(null),g=(0,a.useRef)(0),[p,x]=(0,a.useState)(s.map(t=>({enable:!1,x:0,y:0,rotate:0}))),k=(0,a.useRef)([]);s.forEach((t,e)=>{k.current[e]=(0,a.createRef)()});let y=(0,a.useRef)([]);s.forEach((t,e)=>{y.current[e]=(0,a.createRef)()});let _=t=>{let{blockSize:e,minoIndex:n,minoTransform:i,isChangeMino:o}=t,r=i.rotate%4-p[n].rotate%4;o||(3===r?r=-1:-3!==r||(r=1)),p[n]={enable:!0,rotate:p[n].rotate+r,x:i.x,y:i.y},x([...p]),v({blockSize:e,minosInfo:s,minoIndex:n,minoTransform:p[n],minoRefs:k,init:o}),g.current+=1,window.setTimeout(()=>{g.current-=1},500),k.current[n]&&k.current[n].current&&(k.current[n].current.style.display="block")},P=t=>{},I=t=>{if(0!==g.current||!y.current[t]||!y.current[t].current)return;let e=y.current[t].current;e&&(e.style.animation="buruburu 0.2s linear 1"),window.setTimeout(()=>{e&&(e.style.animation="")},300)};(0,a.useEffect)(()=>{m.current||(m.current=!0,S.current=new b(e,n,s,r,_,P,I,l,h,c,d,f),S.current.start())},[m]),(0,a.useEffect)(()=>{w.current&&(S.current.setBlockSize(u),p.forEach((t,e)=>{v({blockSize:u,minosInfo:s,minoIndex:e,minoTransform:t,minoRefs:k,init:!0})}))},[u,k]);let S=(0,a.useRef)(null);return(0,i.BX)(i.HY,{children:[(0,i.tZ)("style",{children:"@keyframes hurueru {\n            0% {transform: translate(0px, 0px) rotateZ(0deg)}\n            25% {transform: translate(10px, 10px) rotateZ(2deg)}\n            50% {transform: translate(0px, 10px) rotateZ(0deg)}\n            75% {transform: translate(10px, 0px) rotateZ(-2deg)}\n            100% {transform: translate(0px, 0px) rotateZ(0deg)}\n          }\n          @keyframes buruburu {\n            0% {transform: translate(0px, 0px) rotateZ(0deg)}\n            25% {transform: translate(10px, 10px) rotateZ(2deg)}\n            50% {transform: translate(0px, 10px) rotateZ(0deg)}\n            75% {transform: translate(10px, 0px) rotateZ(-2deg)}\n            100% {transform: translate(0px, 0px) rotateZ(0deg)}\n          }"}),(0,i.tZ)("div",{ref:w,css:(0,o.iv)({backgroundColor:"rgba(255,255,255,0.4)",width:"100%",height:"100%",position:"relative"}),children:p.map((t,e)=>(0,i.tZ)("div",{ref:k.current[e],css:(0,o.iv)({display:"none",position:"absolute",top:"0",left:"0"}),children:(0,i.tZ)("div",{ref:y.current[e],children:(0,i.tZ)(M,{width:u,shape:s[e]})})},e))})]})};var P=n(3450);let I=(0,o.iv)({display:"flex",gap:"0.8vw"}),S=(0,o.iv)({opacity:"0",transform:"translate(0px, -17px)",fontFamily:"Tetris",fontSize:"2.5rem",textAlign:"center",color:"#ff0000"}),E={autoAlpha:1,duration:2,x:0,y:0},R=t=>{let{visible:e,...n}=t,o=(0,a.useRef)(null),s=(0,a.useRef)(null),r=(0,a.useRef)(null),l=(0,a.useRef)(null),h=(0,a.useRef)(null),c=(0,a.useRef)(null),d=(0,a.useRef)(null),f=(0,a.useRef)(null);return(0,a.useEffect)(()=>{e&&(m.ZP.to(o.current,{delay:.6,...E}),m.ZP.to(s.current,{delay:.8,...E}),m.ZP.to(r.current,{delay:1,...E}),m.ZP.to(l.current,{delay:.6+.6000000000000001,...E}),m.ZP.to(h.current,{delay:1.4,...E}),m.ZP.to(c.current,{delay:1.6,...E}),m.ZP.to(d.current,{delay:.6+1.2000000000000002,...E}),m.ZP.to(f.current,{delay:2,...E}))},[o,s,r,l,h,c,d,f,e]),(0,i.BX)("div",{css:I,...n,children:[(0,i.tZ)("span",{css:S,ref:o,children:"G"}),(0,i.tZ)("span",{css:S,ref:s,children:"A"}),(0,i.tZ)("span",{css:S,ref:r,children:"M"}),(0,i.tZ)("span",{css:S,ref:l,children:"E"}),(0,i.tZ)("span",{css:S,ref:h,children:"O"}),(0,i.tZ)("span",{css:S,ref:c,children:"V"}),(0,i.tZ)("span",{css:S,ref:d,children:"E"}),(0,i.tZ)("span",{css:S,ref:f,children:"R"})]})};var N=n(1664),F=n.n(N),Z=n(1163),A=n(4347),z=n.n(A),T=t=>{let{isGameOver:e,retryCallback:n}=t,s=(0,a.useRef)(null);(0,a.useEffect)(()=>{e&&m.ZP.to(s.current,{autoAlpha:1,duration:5,x:0,y:0})},[s,e]);let r=(0,Z.useRouter)();return(0,i.BX)(i.HY,{children:[(0,i.tZ)("div",{ref:s,css:(0,o.iv)({pointerEvents:e?"auto":"none"}),className:"jsx-87a0b5cc6f5ea665 "+(z().old_overlay||""),children:(0,i.tZ)("div",{className:"jsx-87a0b5cc6f5ea665 "+(z().old_content||""),children:(0,i.BX)("div",{className:"jsx-87a0b5cc6f5ea665 content-wrapper",children:[(0,i.tZ)(R,{visible:e}),(0,i.BX)("div",{className:"jsx-87a0b5cc6f5ea665 buttonWrapper",children:[(0,i.tZ)(F(),{href:{pathname:"/",query:{...r.query}},passHref:!0,children:(0,i.tZ)("button",{className:"jsx-87a0b5cc6f5ea665 button button__backHome",children:"BackHome"})}),(0,i.tZ)("button",{onClick:n,className:"jsx-87a0b5cc6f5ea665 button button__retry",children:"Retry"})]})]})})}),(0,i.tZ)(k(),{id:"87a0b5cc6f5ea665",children:'.content-wrapper.jsx-87a0b5cc6f5ea665{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;width:30vw;min-width:300px}.countLabel.jsx-87a0b5cc6f5ea665{font-family:"Tetris";font-size:1rem;font-weight:bold}.count.jsx-87a0b5cc6f5ea665{font-family:"Tetris";font-size:3rem;text-align:center;margin-left:-webkit-calc(18*var(--base));margin-left:-moz-calc(18*var(--base));margin-left:calc(18*var(--base))}.countUnit.jsx-87a0b5cc6f5ea665{font-family:"Tetris";font-size:1rem;font-weight:bold;margin-left:-webkit-calc(20*var(--base));margin-left:-moz-calc(20*var(--base));margin-left:calc(20*var(--base))}.ranking.jsx-87a0b5cc6f5ea665{font-family:"Tetris";font-size:2rem;text-align:center}.buttonWrapper.jsx-87a0b5cc6f5ea665{margin-top:-webkit-calc(var(--vh,1vh)*10);margin-top:-moz-calc(var(--vh,1vh)*10);margin-top:calc(var(--vh,1vh)*10);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;gap:10%;width:73%}.button.jsx-87a0b5cc6f5ea665{font-family:"Tetris";border:1px solid#aaa;-webkit-border-radius:18px;-moz-border-radius:18px;border-radius:18px;padding:3%5%;text-align:center;width:30%;min-width:138px}.button__retry.jsx-87a0b5cc6f5ea665{color:green}.button__backHome.jsx-87a0b5cc6f5ea665{color:blue}'})]})},C=n(5317);let L=(0,o.iv)({display:"flex",gap:"0.8vw"}),H=(0,o.iv)({opacity:"0",transform:"translate(0px, -100px)",fontFamily:"Tetris",fontSize:"2.5rem",textAlign:"center",color:"#00ff00"}),B=t=>{let{visible:e,...n}=t,o=(0,a.useRef)(null),s=(0,a.useRef)(null),r=(0,a.useRef)(null),l=(0,a.useRef)(null),h=(0,a.useRef)(null),c=(0,a.useRef)(null),d=(0,a.useRef)(null),f=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(e){let t={autoAlpha:1,duration:1,ease:C.sm.easeOut,x:0,y:0};m.ZP.to(o.current,{delay:.3,...t}),m.ZP.to(s.current,{delay:.5,...t}),m.ZP.to(r.current,{delay:.7,...t}),m.ZP.to(l.current,{delay:.9000000000000001,...t}),m.ZP.to(h.current,{delay:1.1,...t}),m.ZP.to(c.current,{delay:1.3,...t}),m.ZP.to(d.current,{delay:1.5000000000000002,...t}),m.ZP.to(f.current,{delay:1.7000000000000002,...t})}},[o,s,r,l,h,c,d,f,e]),(0,i.BX)("div",{css:L,...n,children:[(0,i.tZ)("span",{css:H,ref:o,children:"G"}),(0,i.tZ)("span",{css:H,ref:s,children:"A"}),(0,i.tZ)("span",{css:H,ref:r,children:"M"}),(0,i.tZ)("span",{css:H,ref:l,children:"E"}),(0,i.tZ)("span",{css:H,ref:h,children:"C"}),(0,i.tZ)("span",{css:H,ref:c,children:"L"}),(0,i.tZ)("span",{css:H,ref:d,children:"E"}),(0,i.tZ)("span",{css:H,ref:f,children:"R"})]})};var O=t=>{let{isGameClear:e,count:n,ranking:s,retryCallback:r}=t,l=(0,a.useRef)(null);(0,a.useEffect)(()=>{e&&m.ZP.to(l.current,{autoAlpha:1,duration:3,x:0,y:0})},[l,e]);let h=(0,Z.useRouter)();return(0,i.BX)(i.HY,{children:[(0,i.tZ)("div",{ref:l,css:(0,o.iv)({pointerEvents:e?"auto":"none"}),className:"jsx-10b250ef03e2f8b8 "+(z().old_overlay||""),children:(0,i.tZ)("div",{className:"jsx-10b250ef03e2f8b8 "+(z().old_content||""),children:(0,i.BX)("div",{className:"jsx-10b250ef03e2f8b8 content-wrapper",children:[(0,i.tZ)(B,{visible:e}),(0,i.BX)("div",{className:"jsx-10b250ef03e2f8b8 countWrapper",children:[(0,i.tZ)("span",{className:"jsx-10b250ef03e2f8b8 countLabel",children:"クリアタイム"}),(0,i.tZ)("span",{className:"jsx-10b250ef03e2f8b8 count",children:n}),(0,i.tZ)("span",{className:"jsx-10b250ef03e2f8b8 countUnit",children:"秒"})]}),(0,i.BX)("div",{className:"jsx-10b250ef03e2f8b8 buttonWrapper",children:[(0,i.tZ)(F(),{href:{pathname:"/",query:{...h.query}},passHref:!0,children:(0,i.tZ)("button",{className:"jsx-10b250ef03e2f8b8 button button__backHome",children:"BackHome"})}),(0,i.tZ)("button",{onClick:r,className:"jsx-10b250ef03e2f8b8 button button__retry",children:"Retry"})]})]})})}),(0,i.tZ)(k(),{id:"10b250ef03e2f8b8",children:'.title.jsx-10b250ef03e2f8b8{font-family:"Tetris";font-size:2rem;text-align:center}.content-wrapper.jsx-10b250ef03e2f8b8{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:-webkit-calc(var(--vh,1vh)*7);gap:-moz-calc(var(--vh,1vh)*7);gap:calc(var(--vh,1vh)*7);-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.countLabel.jsx-10b250ef03e2f8b8{font-family:"Tetris";font-size:1rem;font-weight:bold}.count.jsx-10b250ef03e2f8b8{font-family:"Tetris";font-size:3rem;text-align:center;margin-left:-webkit-calc(18*var(--base));margin-left:-moz-calc(18*var(--base));margin-left:calc(18*var(--base))}.countUnit.jsx-10b250ef03e2f8b8{font-family:"Tetris";font-size:1rem;font-weight:bold;margin-left:-webkit-calc(20*var(--base));margin-left:-moz-calc(20*var(--base));margin-left:calc(20*var(--base))}.ranking.jsx-10b250ef03e2f8b8{font-family:"Tetris";font-size:2rem;text-align:center}.buttonWrapper.jsx-10b250ef03e2f8b8{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;gap:10%;width:73%}.button.jsx-10b250ef03e2f8b8{font-family:"Tetris";border:1px solid#aaa;-webkit-border-radius:18px;-moz-border-radius:18px;border-radius:18px;padding:3%5%;text-align:center;width:30%;min-width:138px}.button__retry.jsx-10b250ef03e2f8b8{color:green}.button__backHome.jsx-10b250ef03e2f8b8{color:blue}'})]})},D=n(9008),W=n.n(D),X=n(2355),j=n.n(X);async function U(t,e){let n=await (0,w._$)(t,p.LA.IMG_MAX_SIZE,e);if(!1===n)return!1;let i=n[0].length,o=n.length,s=[];s.push(p.L5[(0,w.DV)(p.L5)]);let r=G(new b(i,o,s,[[0,0]],()=>{},()=>{},()=>{},()=>{},()=>{},"","","").splitField(),n),a=q(i,o+p.LA.blankHeight);return{WIDTH:i,HEIGHT:o,MINOSINFO:r.OUTPUTMINOS,ANSPOSITIONS:r.OUTPUTPOSITIONS,ELEMENT_WIDTH:a.WIDTH,ELEMENT_HEIGHT:a.HEIGHT}}let G=(t,e)=>{let n="",i=[],o=[];for(;"0"!==Y(t);){n=Y(t);let s=t[0].length,r=t.length,a=0,l=0;for(let e=0;e<t.length;e++)for(let i=0;i<t[e].length;i++)t[e][i][0]===n&&(s>i&&(s=i),a<i&&(a=i),r>e&&(r=e),l<e&&(l=e));let h=(0,w.e8)(t,s,r,a,l),c=(0,w.e8)(e,s,r,a,l);for(let t=0;t<h.length;t++)for(let e=0;e<h[t].length;e++)h[t][e][0]!==n&&(c[t][e]="");t=V(t,n),i.push(c),o.push([r,s])}return{OUTPUTMINOS:i,OUTPUTPOSITIONS:o}},Y=t=>{for(let e=0;e<t.length;e++)for(let n=0;n<t[e].length;n++)if(""!==t[e][n][0])return t[e][n][0];return"0"},V=(t,e)=>{for(let n=0;n<t.length;n++)for(let i=0;i<t[n].length;i++)t[n][i][0]===e&&(t[n][i][0]="");return t},q=(t,e)=>{let n=window.innerWidth,i=window.innerHeight,o=n/i,s=10,r=0,a=0;if(o>=1?(r=150*(s=i/315),a=280*s):o<1&&(r=150*(s=n/812),a=280*s),r/t>a/e){for(let n=Math.floor(a);n>=1;n--)if(n%e==0)return{WIDTH:t/e*n,HEIGHT:n}}else for(let n=Math.floor(r);n>=1;n--)if(n%t==0)return{WIDTH:n,HEIGHT:e/t*n};return{WIDTH:r,HEIGHT:e/t*r}};var K=JSON.parse('{"nm":"Wait ","mn":"","layers":[{"ty":4,"nm":"Shape Layer 1","mn":"","sr":1,"st":0,"op":600,"ip":0,"hd":false,"cl":"","ln":"","ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[-233,74,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":1,"k":[{"o":{"x":0.71,"y":0},"i":{"x":0.298,"y":1},"s":[308,569,0],"t":0,"ti":[-36.028,0,0],"to":[36.805,0,0]},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[745,569,0],"t":40}],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Group","nm":"Rectangle 1","ix":1,"cix":2,"np":2,"it":[{"ty":"rc","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Shape - Rect","nm":"Rectangle Path 1","d":1,"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":20,"ix":4},"s":{"a":0,"k":[50,36.765],"ix":2}},{"ty":"fl","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0,0.8,0.498],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[-233,74],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":1},{"ty":4,"nm":"W  Outlines","mn":"","sr":1,"st":0,"op":600,"ip":0,"hd":false,"cl":"","ln":"","ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[32.396,-0.244,0],"ix":1},"s":{"a":0,"k":[200,200,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":1,"k":[{"o":{"x":0.458,"y":0},"i":{"x":0.291,"y":1},"s":[408.355,587.5,0],"t":2,"ti":[0,0,0],"to":[0,-13.288,0]},{"o":{"x":0.706,"y":0},"i":{"x":0.667,"y":1},"s":[408.355,403.5,0],"t":16.574,"ti":[0,-30.667,0],"to":[0,0,0]},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[408.355,587.5,0],"t":32.19140625}],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Group","nm":"W","ix":1,"cix":2,"np":3,"it":[{"ty":"sh","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Shape - Group","nm":"W","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[53.026,-47.988],[46.303,-20.314],[39.179,-47.988],[27.614,-47.988],[21.066,-20.368],[14.353,-47.988],[0.492,-47.988],[13.242,0],[26.145,0],[32.484,-26.473],[39.198,0],[51.573,0],[64.301,-47.988]]},"ix":2}},{"ty":"fl","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0,0.8,0.498],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":2},{"ty":4,"nm":"a Outlines","mn":"","sr":1,"st":10,"op":610,"ip":0,"hd":false,"cl":"","ln":"","ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[22.957,-0.119,0],"ix":1},"s":{"a":0,"k":[200,200,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.291,"y":1},"s":[521.476,587.75,0],"t":3.561,"ti":[0,0,0],"to":[0,-30.833,0]},{"o":{"x":0.706,"y":0},"i":{"x":0.667,"y":1},"s":[521.476,402.75,0],"t":19.178,"ti":[0,-30.833,0],"to":[0,0,0]},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[521.476,587.75,0],"t":34.794921875}],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Group","nm":"a","ix":1,"cix":2,"np":5,"it":[{"ty":"sh","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Shape - Group","nm":"a","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[45.677,0],[30.626,-47.988],[15.052,-47.988],[0.237,0],[12.196,0],[15.077,-9.457],[27.933,-9.457],[30.645,0]]},"ix":2}},{"ty":"sh","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Shape - Group","nm":"a","ix":2,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[21.463,-33.854],[25.345,-19.934],[17.581,-19.934]]},"ix":2}},{"ty":"mm","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Filter - Merge","nm":"Merge Paths 1","mm":1},{"ty":"fl","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0,0.8,0.498],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":3},{"ty":4,"nm":"i Outlines","mn":"","sr":1,"st":0,"op":600,"ip":0,"hd":false,"cl":"","ln":"","ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[10.94,-0.119,0],"ix":1},"s":{"a":0,"k":[200,200,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.291,"y":1},"s":[605.442,587.75,0],"t":6.164,"ti":[0,0,0],"to":[0,-30.667,0]},{"o":{"x":0.706,"y":0},"i":{"x":0.667,"y":1},"s":[605.442,403.75,0],"t":21.781,"ti":[0,-30.667,0],"to":[0,0,0]},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[605.442,587.75,0],"t":37.396484375}],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Group","nm":"i","ix":1,"cix":2,"np":3,"it":[{"ty":"sh","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Shape - Group","nm":"i","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[3.575,-47.988],[3.575,0],[18.305,0],[18.305,-47.988]]},"ix":2}},{"ty":"fl","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0,0.8,0.498],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":4},{"ty":4,"nm":"t Outlines","mn":"","sr":1,"st":0,"op":600,"ip":0,"hd":false,"cl":"","ln":"","ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[17.053,0.006,0],"ix":1},"s":{"a":0,"k":[200,200,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.291,"y":1},"s":[678.667,588,0],"t":8.768,"ti":[0,0,0],"to":[0,-30.667,0]},{"o":{"x":0.706,"y":0},"i":{"x":0.667,"y":1},"s":[678.667,404,0],"t":24.383,"ti":[0,-30.667,0],"to":[0,0,0]},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[678.667,588,0],"t":40}],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Group","nm":"t","ix":1,"cix":2,"np":3,"it":[{"ty":"sh","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Shape - Group","nm":"t","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[33.855,-36.492],[33.855,-47.988],[0,-47.988],[0,-36.492],[9.949,-36.492],[9.949,0],[23.906,0],[23.906,-36.492]]},"ix":2}},{"ty":"fl","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0,0.8,0.498],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":5}],"ddd":0,"h":1080,"w":1080,"meta":{"a":"","k":"","d":"","g":"@lottiefiles/toolkit-js 0.22.1","tc":"#000000"},"v":"5.8.1","fr":60,"op":41,"ip":0,"assets":[]}');let{publicRuntimeConfig:J}=r()(),$=()=>{document.dispatchEvent(new KeyboardEvent("keydown",{code:"ArrowRight"}))},Q=()=>{document.dispatchEvent(new KeyboardEvent("keydown",{code:"ArrowLeft"}))},tt=()=>{document.dispatchEvent(new KeyboardEvent("keydown",{code:"ArrowUp"}))},te=()=>{document.dispatchEvent(new KeyboardEvent("keydown",{code:"ArrowDown"}))},tn=()=>{document.dispatchEvent(new KeyboardEvent("keydown",{code:"Slash"}))},ti=()=>{document.dispatchEvent(new KeyboardEvent("keydown",{code:"IntlRo"}))},to=(0,o.iv)({width:"100vw",position:"absolute",top:"0",left:"0",transformOrigin:"left top"});var ts=()=>{let t=J&&J.basePath||"";(0,a.useLayoutEffect)(w.NB);let e=(0,Z.useRouter)(),n=e.query.MODEL_IMAGE,s=e.query.FALL_SPEED,r=e.query.DIVIDER_NUM,l=e.query.USE_ROTATE,[h,c]=(0,a.useState)(null),d=(0,a.useRef)(null),g=(0,a.useRef)(null),b=(0,a.useRef)(null),x=(0,a.useRef)(null),[k,y]=(0,a.useState)(0),[M,v]=(0,u.N)(),I=(t,e)=>Math.floor(e*t)/e;(0,a.useEffect)(()=>{if(!g.current||!b.current||!x.current)return;let t=M/h.WIDTH,e=.9*v;if(M/v>1){let n=Math.min(.25*M/g.current.clientWidth,e/g.current.clientHeight),i=I(Math.min(.35*M/b.current.clientWidth,e/b.current.clientHeight),t),o=Math.min(.25*M/x.current.clientWidth,e/x.current.clientHeight),s=n*g.current.clientWidth,r=i*b.current.clientWidth,a=o*x.current.clientWidth,l=n*g.current.clientHeight,h=i*b.current.clientHeight,c=o*x.current.clientHeight,d=(M-s-r-a)/4;m.ZP.set(g.current,{x:d,y:(v-l)/2,scale:n}),m.ZP.set(b.current,{x:2*d+s,y:(v-h)/2,scale:i}),m.ZP.set(x.current,{x:3*d+s+r,y:(v-c)/2,scale:o})}else{let n=.45*M,i=I(Math.min(n/b.current.clientWidth,e/b.current.clientHeight),t),o=Math.min(n/g.current.clientWidth,.45*v/g.current.clientHeight),s=Math.min(n/x.current.clientWidth,.45*v/x.current.clientHeight),r=o*g.current.clientWidth,a=i*b.current.clientWidth,l=s*x.current.clientWidth,h=i*b.current.clientHeight,c=o*g.current.clientHeight,d=s*x.current.clientHeight,f=(M-a-n)/3,u=(v-c-1.2*d)/3;m.ZP.set(b.current,{x:f,y:(v-h)/2,scale:i}),m.ZP.set(g.current,{x:2*f+a+(n-r)/2,y:u,scale:o}),m.ZP.set(x.current,{x:2*f+a+(n-l)/2,y:2*u+c,scale:s})}y(t)},[g.current,b.current,x.current,M,v,h,n]);let S=async(t,e)=>{d.current&&(d.current=null),R.current=0,c(null),F(!1),z(!1),"string"==typeof t&&"string"==typeof e&&c(await U(t,e))};(0,a.useEffect)(()=>{(0,w.Sj)(),null===d.current&&(d.current=window.setInterval(E,1e3)),S(n,r)},[n,r]);let E=()=>{R.current=R.current+1},R=(0,a.useRef)(0),[N,F]=(0,a.useState)(!1),[A,z]=(0,a.useState)(!1);return(!1===h&&e.push("/error"),h)?(0,i.BX)(i.HY,{children:[(0,i.tZ)(W(),{children:(0,i.tZ)("title",{children:"絵トリス"})}),(0,i.BX)("main",{className:j().main,style:{backgroundImage:"url('".concat(t,"/img/home/bk.webp')"),backgroundSize:"cover",backgroundRepeat:"no-repeat"},children:[N&&(0,i.tZ)(O,{isGameClear:N,count:R.current,ranking:1,retryCallback:()=>{S(n,r)}}),A&&(0,i.tZ)(T,{isGameOver:A,retryCallback:()=>{S(n,r)}}),(0,i.tZ)("div",{ref:g,css:[to,(0,o.iv)({height:"".concat(100/h.WIDTH*h.HEIGHT,"vw")})],children:(0,i.tZ)("img",{src:e.query.MODEL_IMAGE,css:(0,o.iv)({width:"100%",maxHeight:"100%",objectFit:"contain"})})}),(0,i.tZ)("div",{ref:b,css:[to,(0,o.iv)({height:"".concat(100/h.WIDTH*(h.HEIGHT+p.LA.blankHeight),"vw")})],children:(0,i.tZ)(_,{width:h.WIDTH,height:h.HEIGHT,minosInfo:h.MINOSINFO,ansPositions:h.ANSPOSITIONS,gameClearCallBack:()=>{window.setTimeout(()=>{F(!0)},500),null!==d.current&&window.clearInterval(d.current)},gameOverCallBack:()=>{window.setTimeout(()=>{z(!0)},500),null!==d.current&&window.clearInterval(d.current)},useUp:"",useRotate:e.query.USE_ROTATE,speed:e.query.FALL_SPEED,blockSize:k})}),(0,i.tZ)("div",{ref:x,css:[to,(0,o.iv)({height:"100vw"})],children:(0,i.tZ)(f,{disabledUp:s!==p.LA.FALL_SPEED[0].label,disabledL:l===p.LA.USE_ROTATE[0].label,disabledR:l===p.LA.USE_ROTATE[0].label,arrowUp:tt,arrowDown:te,arrowLeft:Q,arrowRight:$,rotateLeft:tn,rotateRight:ti})})]}),(0,i.tZ)("footer",{className:j().footer})]}):(0,i.tZ)("div",{css:(0,o.iv)({position:"fixed",width:"100%",height:"100vh",top:"0"}),children:(0,i.tZ)(P.Z,{json:K})})}},6507:function(t){t.exports={crossKeyWrapper:"Controller_crossKeyWrapper__f9FHP",LRWrapper:"Controller_LRWrapper__KhpKm",LRWrapper__row:"Controller_LRWrapper__row__kBbzV",arrow:"Controller_arrow__7h6wM",arrow__up:"Controller_arrow__up__mBvvp",arrow__left:"Controller_arrow__left__g2Twm",arrow__right:"Controller_arrow__right__Oi9W4",arrow__down:"Controller_arrow__down__fiOT4",rotate:"Controller_rotate__jfAkk"}},4347:function(t){t.exports={overlay:"Modal_overlay__2FT_F",overlay__visible:"Modal_overlay__visible__zrOqf",content:"Modal_content__04Bc4",old_overlay:"Modal_old_overlay__6UGpm",old_content:"Modal_old_content__Wek3L"}},2355:function(t){t.exports={main:"Play_main__vXAyt",playWrapper:"Play_playWrapper__Y8zVd",modelImgWrapper:"Play_modelImgWrapper__T3XMS",modelImg:"Play_modelImg__w9hfL",etrisField:"Play_etrisField__TxHXg",controller:"Play_controller__WapMG"}}},function(t){t.O(0,[498,802,861,664,822,964,888,774,179],function(){return t(t.s=7454)}),_N_E=t.O()}]);