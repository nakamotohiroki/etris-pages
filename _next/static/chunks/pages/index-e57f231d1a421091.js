(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(2603)}])},2603:function(e,t,i){"use strict";i.r(t);var a=i(1965),s=i(7294),l=i(1163),n=i(9008),o=i.n(n),r=i(4780),c=i.n(r),d=i(2690),p=i(2081),u=i(917),g=i(9634),m=i(7541),h=i(6767),_=i(1664),E=i.n(_),S=i(5675),I=i.n(S),N=i(1214);t.default=()=>{(0,s.useLayoutEffect)(p.Q5);let e=(0,l.useRouter)(),t=e.query.MODEL_IMAGE,[i,n]=(0,s.useState)("string"==typeof t?t:null),[r,_]=(0,s.useState)(d.LA.USE_ROTATE[0].label),[S,b]=(0,s.useState)(d.LA.FALL_SPEED[0].label),[v,L]=(0,s.useState)(d.LA.DIVIDER_NUM[0].label);return(0,s.useEffect)(()=>{let e=sessionStorage.getItem("modelImage");if(e){let t=(0,p.R4)(e);t.then(e=>{n(e||i)})}let t=sessionStorage.getItem("useRotate"),a=sessionStorage.getItem("fallSpeed"),s=sessionStorage.getItem("divider");t&&_(t),a&&b(a),s&&L(s)},[]),(0,a.BX)(a.HY,{children:[(0,a.tZ)(o(),{children:(0,a.tZ)("title",{children:"絵トリス"})}),(0,a.BX)("main",{css:(0,u.iv)({paddingTop:"20px"}),children:[(0,a.tZ)(E(),{href:"/createImage",css:(0,u.iv)({color:"white",fontSize:"20px",position:"fixed",top:"0",right:"0",padding:"27px",textDecoration:"underline",cursor:"pointer",backgroundColor:"rgba(0,0,0,0.6)",zIndex:"1","@media only screen and (max-width:767px)":{padding:"15px"}}),children:"AIで画像を生成する"}),(0,a.tZ)("div",{className:c().background}),(0,a.tZ)("div",{className:c().title,children:(0,a.tZ)(I(),{priority:!0,src:"/img/home/titleLogo.webp",alt:"etris",width:300,height:103,sizes:"100%",style:{width:"100%",height:"auto"}})}),(0,a.BX)("div",{className:c().contentWrapper,children:[(0,a.tZ)(g.Z,{className:c().uploader,onDrop:e=>{let t=window.URL.createObjectURL(e[0]);n(t),sessionStorage.setItem("modelImage",t)},children:(0,a.BX)("div",{className:c().uploader__wrapper,css:(0,u.iv)({position:"relative"}),children:[(0,a.tZ)("div",{css:(0,u.iv)({height:"100%",display:i?"block":"none"}),children:(0,a.tZ)("img",{alt:"",className:c().uploader__img,src:i||""})}),(0,a.BX)("div",{css:(0,u.iv)({display:i?"none":"block"}),children:[(0,a.tZ)(h.Z,{speed:.5,json:m}),(0,a.tZ)("img",{alt:"クリックして画像をアップロードしてください",src:"/img/icon/upload.png",css:(0,u.iv)({position:"absolute",left:"0",right:"0",top:"0",bottom:"0",margin:"auto",width:"13%"})})]})]})}),(0,a.tZ)("div",{className:c().playSetting,children:(0,a.tZ)(N.Z,{labelMaxStringNum:4,settings:[{label:"回転",rollProps:{initLabel:r,options:d.LA.USE_ROTATE,clickCallBack:(e,t)=>{_(t),sessionStorage.setItem("useRotate",t)},valueStringNum:4}},{label:"自動落下",rollProps:{initLabel:S,options:d.LA.FALL_SPEED,clickCallBack:(e,t)=>{b(t),sessionStorage.setItem("fallSpeed",t)},valueStringNum:4}},{label:"分割数",rollProps:{initLabel:v,options:d.LA.DIVIDER_NUM,clickCallBack:(e,t)=>{L(t),sessionStorage.setItem("divider",t)},valueStringNum:4}}]})}),(0,a.BX)("div",{className:"".concat(c().playButtomWrapper," ").concat(i?c().playButtomWrapper__onImage:""),onClick:()=>{i&&e.push({pathname:"play",query:{MODEL_IMAGE:i,USE_ROTATE:r,FALL_SPEED:S,DIVIDER_NUM:v}})},children:[(0,a.tZ)("span",{className:c().playImg}),(0,a.tZ)("span",{className:c().playButton,children:"この画像で遊ぶ"})]})]})]})]})}}},function(e){e.O(0,[296,802,260,115,664,901,675,351,253,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);