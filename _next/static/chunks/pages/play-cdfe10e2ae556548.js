(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[141],{7454:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/play",function(){return n(9302)}])},752:function(e,t,n){"use strict";n.d(t,{N:function(){return i}});var o=n(7294);let i=()=>{let[e,t]=(0,o.useState)([0,0]);return(0,o.useLayoutEffect)(()=>{let e=()=>{t([document.documentElement.clientWidth,document.documentElement.clientHeight])};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),e}},9302:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Q}});var o=n(4386),i=n(917),s=n(1752),r=n.n(s),a=n(7294),l=n(6507),c=n.n(l);let{publicRuntimeConfig:h}=r()(),d=(0,i.iv)({opacity:"0.2",pointerEvents:"none"});var u=e=>{let{arrowUp:t,arrowLeft:n,arrowRight:i,arrowDown:s,rotateLeft:r,rotateRight:l,disabledLeft:u,disabledRight:f,disabledUp:p,disabledBottom:m,disabledL:g,disabledR:w}=e,y=h&&h.basePath||"",b=(e,t)=>{v.current=t,window.setTimeout(()=>{v.current===t&&(k.current=window.setInterval(()=>{e()},100),v.current=0)},500)},x=()=>{window.clearInterval(k.current),v.current=0},v=(0,a.useRef)(0),k=(0,a.useRef)(0);return(0,o.BX)(o.HY,{children:[(0,o.BX)("div",{className:c().crossKeyWrapper,children:[(0,o.tZ)("button",{type:"button",className:"".concat(c().arrow," ").concat(c().arrow__up),style:{backgroundImage:"url('".concat(y,"/img/home/cont-button.png')")},onClick:t,onPointerDown:()=>{x(),b(t,1)},css:p?d:void 0,onPointerUp:x,onPointerOut:x}),(0,o.tZ)("button",{type:"button",className:"".concat(c().arrow," ").concat(c().arrow__left),style:{backgroundImage:"url('".concat(y,"/img/home/cont-button.png')")},onClick:n,onPointerDown:()=>{x(),b(n,2)},css:u?d:void 0,onPointerUp:x,onPointerOut:x}),(0,o.tZ)("button",{type:"button",className:"".concat(c().arrow," ").concat(c().arrow__right),style:{backgroundImage:"url('".concat(y,"/img/home/cont-button.png')")},onClick:i,onPointerDown:()=>{x(),b(i,3)},css:f?d:void 0,onPointerUp:x,onPointerOut:x}),(0,o.tZ)("button",{type:"button",className:"".concat(c().arrow," ").concat(c().arrow__down),style:{backgroundImage:"url('".concat(y,"/img/home/cont-button.png')")},onClick:s,onPointerDown:()=>{x(),b(s,4)},css:m?d:void 0,onPointerUp:x,onPointerOut:x})]}),(0,o.tZ)("div",{className:c().LRWrapper,children:(0,o.BX)("div",{className:c().LRWrapper__row,children:[(0,o.tZ)("button",{type:"button",className:"".concat(c().rotate),style:{backgroundImage:"url('".concat(y,"/img/home/l-button.png')"),userSelect:"none"},onClick:r,css:g?d:void 0}),(0,o.tZ)("button",{type:"button",className:"".concat(c().rotate),style:{backgroundImage:"url('".concat(y,"/img/home/r-button.png')"),userSelect:"none"},onClick:l,css:w?d:void 0})]})})]})},f=n(752),p=n(990),m=n(3410);class g{getMinoId(){return this.minoId}setMinoId(e){this.minoId=e}getNowPositionX(){return this.nowPosition[1]}getNowPositionY(){return this.nowPosition[0]}getAnsPositionX(){return this.ansPosition[1]}getAnsPositionY(){return this.ansPosition[0]}setNowPosition(e){this.nowPosition=e}setAnsPosition(e){this.ansPosition=e}getMinoInfo(){return this.minoInfo}setMinoInfo(e){this.minoInfo=e}getRotate(){return this.rotate}checkNowPositionIsAnsPosition(){return this.nowPosition[0]===this.ansPosition[0]&&this.nowPosition[1]===this.ansPosition[1]&&0===this.rotate}right(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.nowPosition[1]+=1}left(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.nowPosition[1]-=1}down(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.nowPosition[0]+=e}up(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.nowPosition[0]-=e}minoRotateLeft90(){this.minoInfo=(0,m.lq)(this.minoInfo),this.rotate>0?this.rotate-=1:this.rotate=3}minoRotateRight90(){this.minoInfo=(0,m.lD)(this.minoInfo),this.rotate<3?this.rotate+=1:this.rotate=0}changeMinoNumber(e){for(let t=0;t<this.minoInfo.length;t++)for(let n=0;n<this.minoInfo[t].length;n++)""!==this.minoInfo[t][n]&&(this.minoInfo[t][n]=e.toString())}constructor(e,t){this.minoInfo=e,this.ansPosition=t,this.nowPosition=[-1,0],this.minoId="",this.rotate=0}}var w=n(6358);class y{addAllKeyEventHandle(){document.removeEventListener("keydown",this.keyBoardEvent),document.addEventListener("keydown",this.keyBoardEvent)}keyUpEvent(){this.isUseUp&&this.canUp()&&(this.nowMino.up(),this.nowFieldShape=this.getChangeField(this.nowMino),"function"==typeof this.render&&this.render({blockSize:this.blockSize,minoIndex:this.nowMino.getMinoId(),minoTransform:{x:this.nowMino.getNowPositionX(),y:this.nowMino.getNowPositionY(),rotate:this.nowMino.getRotate()}}))}keyDownEvent(){this.nowMino.checkNowPositionIsAnsPosition()||(this.canDown()?(this.nowMino.down(),this.nowFieldShape=this.getChangeField(this.nowMino),"function"==typeof this.render&&this.render({blockSize:this.blockSize,minoIndex:this.nowMino.getMinoId(),minoTransform:{x:this.nowMino.getNowPositionX(),y:this.nowMino.getNowPositionY(),rotate:this.nowMino.getRotate()}})):this.isUseUp?this.conflictCallback(this.nowMino.getMinoId()):this.gameOver())}keyRightEvent(){this.canRight()?(this.nowMino.right(),this.nowFieldShape=this.getChangeField(this.nowMino),"function"==typeof this.render&&this.render({blockSize:this.blockSize,minoIndex:this.nowMino.getMinoId(),minoTransform:{x:this.nowMino.getNowPositionX(),y:this.nowMino.getNowPositionY(),rotate:this.nowMino.getRotate()}})):this.conflictCallback(this.nowMino.getMinoId())}keyLeftEvent(){this.canLeft()?(this.nowMino.left(),this.nowFieldShape=this.getChangeField(this.nowMino),"function"==typeof this.render&&this.render({blockSize:this.blockSize,minoIndex:this.nowMino.getMinoId(),minoTransform:{x:this.nowMino.getNowPositionX(),y:this.nowMino.getNowPositionY(),rotate:this.nowMino.getRotate()}})):this.conflictCallback(this.nowMino.getMinoId())}keyLRotateEvent(){this.isUseRotate&&this.nowMinoRotateLeft90()?(this.nowFieldShape=this.getChangeField(this.nowMino),"function"==typeof this.render&&this.render({blockSize:this.blockSize,minoIndex:this.nowMino.getMinoId(),minoTransform:{x:this.nowMino.getNowPositionX(),y:this.nowMino.getNowPositionY(),rotate:this.nowMino.getRotate()}})):this.conflictCallback(this.nowMino.getMinoId())}keyRRotateEvent(){this.isUseRotate&&this.nowMinoRotateRight90()?(this.nowFieldShape=this.getChangeField(this.nowMino),"function"==typeof this.render&&this.render({blockSize:this.blockSize,minoIndex:this.nowMino.getMinoId(),minoTransform:{x:this.nowMino.getNowPositionX(),y:this.nowMino.getNowPositionY(),rotate:this.nowMino.getRotate()}})):this.conflictCallback(this.nowMino.getMinoId())}constructor(e,t,n,o,i,s,r,a,l,c,h,d){var u,f;this.getNowFieldShape=()=>this.nowFieldShape,this.getNowMino=()=>this.nowMino,this.start=()=>{this.isAlredyStart||(this.normalizeMinos(),this.createBlankField(),this.changeRandomNextMino(),this.addAllKeyEventHandle(),this.nowFieldShape=this.getChangeField(this.nowMino),this.render({blockSize:this.blockSize,minoIndex:this.nowMino.getMinoId(),minoTransform:{x:this.nowMino.getNowPositionX(),y:this.nowMino.getNowPositionY(),rotate:this.nowMino.getRotate()},isChangeMino:!0}),this.fallSpeed>=1&&(this.alwaysInterval=window.setInterval(this.always,this.fallSpeed)),this.isAlredyStart=!0)},this.createBlankField=()=>{for(let t=0;t<w.LA.blankHeight;t++){var e=[];for(let t=0;t<this.width;t++)e.push(["",0,!1,0]);this.nowFieldShape.unshift(e)}for(let e=0;e<this.normalizeMinosInfo.length;e++)for(let t=0;t<this.normalizeMinosInfo[e].length;t++)for(let n=0;n<this.normalizeMinosInfo[e][t].length;n++)this.normalizeMinosInfo[e][t][n].setAnsPosition([this.normalizeMinosInfo[e][t][n].getAnsPositionY()+w.LA.blankHeight,this.normalizeMinosInfo[e][t][n].getAnsPositionX()])},this.always=()=>{this.nowMino.checkNowPositionIsAnsPosition()?(this.contactCount=this.contactCount+1,this.confirmField(),this.changeRandomNextMino(),this.nowFieldShape=this.getChangeField(this.nowMino),"function"==typeof this.render&&this.render({blockSize:this.blockSize,minoIndex:this.nowMino.getMinoId(),minoTransform:{x:this.nowMino.getNowPositionX(),y:this.nowMino.getNowPositionY(),rotate:this.nowMino.getRotate()},isChangeMino:!0})):this.canDown()?(this.nowMino.down(),this.nowFieldShape=this.getChangeField(this.nowMino),"function"==typeof this.render&&this.render({blockSize:this.blockSize,minoIndex:this.nowMino.getMinoId(),minoTransform:{x:this.nowMino.getNowPositionX(),y:this.nowMino.getNowPositionY(),rotate:this.nowMino.getRotate()}})):this.isUseUp||this.gameOver()},this.changeRandomNextMino=()=>{if(0===this.normalizeMinosInfo.length){this.gameClear();return}let e=Math.floor(Math.random()*this.normalizeMinosInfo.length),t=Math.floor(Math.random()*this.normalizeMinosInfo[e][0].length);if(this.nowMino=this.normalizeMinosInfo[e][0][t],this.isUseRotate){let e=Math.floor(4*Math.random());for(let t=0;t<e;t++)this.nowMino.minoRotateRight90()}this.resolveConflict(),this.normalizeMinosInfo[e][0][t]="",this.normalizeMinosInfo=(0,m.Op)(this.normalizeMinosInfo,"")},this.normalizeMinos=()=>{for(let e=0;e<this.nowFieldShape[0].length;e++){let t=[],n=this.findMinosFromPosition(e,this.nowFieldShape.length-1);if(null!==n){t.push([n]);let e=[1,1];for(;e.length>=1;){e=[];let n=t[t.length-1];for(let t=0;t<n.length;t++){let o=this.findAbobeMinos(n[t].getAnsPositionX(),n[t].getAnsPositionY(),n[t].getMinoInfo());if(null!==o)for(let t=0;t<o.length;t++)e.push(o[t])}e.length>=1&&t.push(e)}}t.length>=1&&this.normalizeMinosInfo.push(t)}},this.findAbobeMinos=(e,t,n)=>{let o=[];for(let i=0;i<n.length;i++)for(let s=0;s<n[i].length;s++)if(""!==n[i][s]){let n=this.findMinosFromPosition(s+e,i+t-1);null!==n&&o.push(n)}return o.length>0?o:null},this.findMinosFromPosition=(e,t)=>{for(let n=this.minosInfo.length-1;n>=0;n--){let o=this.minosInfo[n],i=o.getAnsPositionX(),s=o.getAnsPositionY(),r=o.getMinoInfo();if(r[0].length>e-i&&r.length>t-s&&t-s>=0&&e-i>=0&&""!==r[t-s][e-i])return this.minosInfo.splice(n,1),o}return null},this.changeNextMino=()=>{this.nowMino=this.minosInfo.shift()},this.canRight=()=>{let e=1,t=this.nowMino.getNowPositionX(),n=this.nowMino.getNowPositionY(),o=this.nowMino.getMinoInfo();for(;;){if(this.checkConflict(t+e,n,o))return!0;if(t+ ++e>this.width)return!1}},this.canLeft=()=>{let e=1,t=this.nowMino.getNowPositionX(),n=this.nowMino.getNowPositionY(),o=this.nowMino.getMinoInfo();for(;;){if(this.checkConflict(t-e,n,o))return!0;if(t-++e<0)return!1}},this.canDown=()=>{let e=1,t=this.nowMino.getNowPositionX(),n=this.nowMino.getNowPositionY(),o=this.nowMino.getMinoInfo();for(;;){if(this.checkConflict(t,n+e,o))return!0;if(n+ ++e>this.nowFieldShape.length)return!1}},this.canUp=()=>{let e=1,t=this.nowMino.getNowPositionX(),n=this.nowMino.getNowPositionY(),o=this.nowMino.getMinoInfo();for(;;){if(this.checkConflict(t,n-e,o))return!0;if(n-++e<0)return!1}},this.nowMinoRotateLeft90=()=>(this.nowMino.minoRotateLeft90(),!!this.checkConflictField(this.nowMino.getNowPositionX(),this.nowMino.getNowPositionY(),this.nowMino.getMinoInfo())||(this.nowMino.minoRotateRight90(),!1)),this.nowMinoRotateRight90=()=>(this.nowMino.minoRotateRight90(),!!this.checkConflictField(this.nowMino.getNowPositionX(),this.nowMino.getNowPositionY(),this.nowMino.getMinoInfo())||(this.nowMino.minoRotateLeft90(),!1)),this.checkConflict=(e,t,n)=>{for(let o=0;o<n.length;o++)for(let i=0;i<n[o].length;i++)if(""!==n[o][i]&&(this.nowFieldShape.length<t+o+1||this.nowFieldShape[0].length<e+i+1||e+i<0||t+o<0||2===this.nowFieldShape[t+o][e+i][1]))return!1;return!0},this.checkConflictField=(e,t,n)=>{for(let o=0;o<n.length;o++)for(let i=0;i<n[o].length;i++)if(""!==n[o][i]&&(this.nowFieldShape.length<t+o+1||this.nowFieldShape[0].length<e+i+1||e+i<0||t+o<0))return!1;return!0},this.checkOverHangRight=(e,t,n)=>{for(let t=0;t<n.length;t++)for(let o=0;o<n[t].length;o++)if(""!==n[t][o]&&this.nowFieldShape[0].length<e+o+1)return!1;return!0},this.resolveConflict=()=>{let e,t,n;let o=1;for(e=this.nowMino.getNowPositionX(),t=this.nowMino.getNowPositionY(),n=this.nowMino.getMinoInfo();0!==o;){for(let i=0;i<n.length;i++){let s=!1;for(let o=0;o<n[i].length;o++)if(""!==n[i][o]){if(t+i<0){this.nowMino.down(),s=!0;continue}if(e+o<0){this.nowMino.right(),s=!0;continue}}if(s){e=this.nowMino.getNowPositionX(),t=this.nowMino.getNowPositionY(),n=this.nowMino.getMinoInfo(),o++;continue}}0!==o&&(o=0)}},this.getChangeField=e=>{let t=e.getNowPositionX(),n=e.getNowPositionY(),o=e.getMinoInfo(),i=e.getRotate(),s=this.nowFieldShape;for(let e=0;e<s.length;e++)for(let t=0;t<s[e].length;t++)1===s[e][t][1]&&(s[e][t][1]=0,s[e][t][0]="");for(let e=0;e<o.length;e++)for(let r=0;r<o[e].length;r++){let a=o[e][r];""!==a&&2!==s[n+e][t+r][1]&&(s[n+e][t+r][1]=1,s[n+e][t+r][0]=a,s[n+e][t+r][3]=i)}return s},this.confirmField=()=>{for(let e=0;e<this.nowFieldShape.length;e++)for(let t=0;t<this.nowFieldShape[e].length;t++)1===this.nowFieldShape[e][t][1]&&(this.nowFieldShape[e][t][1]=2)},this.gameOver=()=>{this.gameOverCallBack(),this.isGameOver=!0,document.removeEventListener("keydown",this.keyBoardEvent),window.clearInterval(this.alwaysInterval)},this.gameClear=()=>{this.isGameOver||(this.gameClearCallBack(),document.removeEventListener("keydown",this.keyBoardEvent),window.clearInterval(this.alwaysInterval))},this.checkAnserPosi=()=>{this.nowMino.checkNowPositionIsAnsPosition()&&(this.contactCount=this.contactCount+1,this.confirmField(),this.changeRandomNextMino(),this.nowFieldShape=this.getChangeField(this.nowMino),this.render({blockSize:this.blockSize,minoIndex:this.nowMino.getMinoId(),minoTransform:{x:this.nowMino.getNowPositionX(),y:this.nowMino.getNowPositionY(),rotate:this.nowMino.getRotate()},isChangeMino:!0}),this.successCallback(this.nowMino))},this.keyBoardEvent=e=>{if(!this.isGameOver){switch(e.code){case"ArrowUp":this.keyUpEvent();break;case"ArrowDown":this.keyDownEvent();break;case"ArrowRight":this.keyRightEvent();break;case"ArrowLeft":this.keyLeftEvent();break;case"Slash":this.keyLRotateEvent();break;case"IntlRo":this.keyRRotateEvent()}this.checkAnserPosi()}},this.addMinosInfo=e=>{this.minosInfo.push(e)},this.splitField=()=>{this.changeNextMino();let e=1;this.nowMino.changeMinoNumber(e);let t=0,n=[1,1];for(;;)if(this.canDown())this.nowMino.down(),t=0,this.nowFieldShape=this.getChangeField(this.nowMino);else if(this.checkOverHangRight(this.nowMino.getNowPositionX()+1,this.nowMino.getNowPositionY(),this.nowMino.getMinoInfo()))this.nowMino.right();else if(this.minosInfo.length>=1)this.confirmField(),this.changeNextMino(),e++,t=0,this.nowMino.changeMinoNumber(e);else{if(0==t)this.confirmField(),e++,n=(0,m.r)(w.L5.slice());else if(n.splice(0,1),0===n.length)break;this.nowMino=new g(n[0],[]),t++,this.nowMino.changeMinoNumber(e)}return this.addBlockRandomContactMinos(),this.nowFieldShape},this.addBlockRandomContactMinos=()=>{for(;!this.checkFieldFilled();){let e=1,t=1;for(;t>=1;){let n=this.getPositionsSameValueFromField(e.toString());t=n.length;let o=[];for(let e=t-1;e>=0;e--){let t=n[e][1],i=n[e][0];this.nowFieldShape.length>i+1&&""===this.nowFieldShape[i+1][t][0]&&o.push([i+1,t]),i-1>=0&&""===this.nowFieldShape[i-1][t][0]&&o.push([i-1,t]),this.nowFieldShape[0].length>t+1&&""===this.nowFieldShape[i][t+1][0]&&o.push([i,t+1]),t-1>=0&&""===this.nowFieldShape[i][t-1][0]&&o.push([i,t-1])}if(o.length>0){let t=o[(0,m.DV)(o)];this.nowFieldShape[t[0]][t[1]][0]=e.toString()}e++}}},this.checkFieldFilled=()=>{for(let e=this.nowFieldShape.length-1;e>=0;e--)for(let t=this.nowFieldShape[e].length-1;t>=0;t--)if(""===this.nowFieldShape[e][t][0])return!1;return!0},this.destroy=()=>{document.removeEventListener("keydown",this.keyBoardEvent)},this.getPositionsSameValueFromField=e=>{let t=[];for(let n=0;n<this.nowFieldShape.length;n++)for(let o=0;o<this.nowFieldShape[n].length;o++)this.nowFieldShape[n][o][0]===e&&t.push([n,o]);return t},this.setBlockSize=e=>{this.blockSize=e},this.nowFieldShape=[];for(let n=0;n<t;n++){var p=[];for(let t=0;t<e;t++)p.push(["",0,!0,0]);this.nowFieldShape.push(p)}this.minosInfo=[];for(let e=0;e<n.length;e++){let t=new g(n[e],o[e]);t.setMinoId(String(e)),this.minosInfo.push(t)}this.normalizeMinosInfo=[],this.nowMino=this.minosInfo[0],this.endCount=0,this.contactCount=0,this.blockSize=0,this.render=i,this.successCallback=s,this.conflictCallback=r,this.width=e,this.height=t,this.gameClearCallBack=a,this.gameOverCallBack=l,this.isGameOver=!1,this.isAlredyStart=!1,this.isUseUp=d===w.LA.FALL_SPEED[0].label,this.isUseRotate=(null===(u=w.LA.USE_UP.find(e=>e.label===h))||void 0===u?void 0:u.value)||w.LA.USE_ROTATE[0].value,this.fallSpeed=(null===(f=w.LA.FALL_SPEED.find(e=>e.label===d))||void 0===f?void 0:f.value)||w.LA.FALL_SPEED[0].value}}var b=n(1822),x=n.n(b),v=e=>{let{imgPath:t,width:n}=e;return(0,o.BX)(o.HY,{children:[""===t?(0,o.tZ)("div",{className:x().dynamic([["e0f6d77aec006cde",[n]]])+" block"}):(0,o.tZ)("img",{src:t,className:x().dynamic([["e0f6d77aec006cde",[n]]])+" block"}),(0,o.tZ)(x(),{id:"e0f6d77aec006cde",dynamic:[n],children:".block.__jsx-style-dynamic-selector{width:".concat(n,"px;aspect-ratio:1/1}")})]})};let k=e=>{let{width:t,shape:n,cssStyle:s}=e;return(0,o.tZ)("div",{css:s,children:n.map((e,n)=>{let s=e.map((e,i)=>(0,o.tZ)(v,{imgPath:e,width:t},"".concat(n,",").concat(i)));return(0,o.tZ)("div",{css:(0,i.iv)({display:"flex"}),children:s},n)})})},M=e=>{let{blockSize:t,minosInfo:n,minoIndex:o,minoTransform:i,minoRefs:s,init:r}=e,a={x:0,y:0},l=n[o][0].length-n[o].length,c=Math.abs(i.rotate%4);(1===c||3===c)&&(a={x:-l/2,y:l/2}),p.ZP.to(s.current[o].current,{x:(i.x+a.x)*t,y:(i.y+a.y)*t,rotation:90*i.rotate,duration:r?0:.5})},_=e=>{let{width:t,height:n,minosInfo:s,ansPositions:r,gameClearCallBack:l,gameOverCallBack:c,useUp:h,useRotate:d,speed:u,blockSize:f}=e,p=(0,a.useRef)(!1),m=(0,a.useRef)(null),g=(0,a.useRef)(0),[w,b]=(0,a.useState)(s.map(e=>({enable:!1,x:0,y:0,rotate:0}))),x=(0,a.useRef)([]);s.forEach((e,t)=>{x.current[t]=(0,a.createRef)()});let v=(0,a.useRef)([]);s.forEach((e,t)=>{v.current[t]=(0,a.createRef)()});let _=e=>{let{blockSize:t,minoIndex:n,minoTransform:o,isChangeMino:i}=e,r=o.rotate%4-w[n].rotate%4;i||(3===r?r=-1:-3!==r||(r=1)),w[n]={enable:!0,rotate:w[n].rotate+r,x:o.x,y:o.y},b([...w]),M({blockSize:t,minosInfo:s,minoIndex:n,minoTransform:w[n],minoRefs:x,init:i}),g.current+=1,window.setTimeout(()=>{g.current-=1},500),x.current[n]&&x.current[n].current&&(x.current[n].current.style.display="block")},E=e=>{},I=e=>{if(0!==g.current||!v.current[e]||!v.current[e].current)return;let t=v.current[e].current;t&&(t.style.animation="buruburu 0.2s linear 1"),window.setTimeout(()=>{t&&(t.style.animation="")},300)};(0,a.useEffect)(()=>{p.current||(p.current=!0,P.current=new y(t,n,s,r,_,E,I,l,c,h,d,u),P.current.start())},[p]),(0,a.useEffect)(()=>{m.current&&(P.current.setBlockSize(f),w.forEach((e,t)=>{M({blockSize:f,minosInfo:s,minoIndex:t,minoTransform:e,minoRefs:x,init:!0})}))},[f,x]);let P=(0,a.useRef)(null);return(0,o.BX)(o.HY,{children:[(0,o.tZ)("style",{children:"@keyframes hurueru {\n            0% {transform: translate(0px, 0px) rotateZ(0deg)}\n            25% {transform: translate(10px, 10px) rotateZ(2deg)}\n            50% {transform: translate(0px, 10px) rotateZ(0deg)}\n            75% {transform: translate(10px, 0px) rotateZ(-2deg)}\n            100% {transform: translate(0px, 0px) rotateZ(0deg)}\n          }\n          @keyframes buruburu {\n            0% {transform: translate(0px, 0px) rotateZ(0deg)}\n            25% {transform: translate(10px, 10px) rotateZ(2deg)}\n            50% {transform: translate(0px, 10px) rotateZ(0deg)}\n            75% {transform: translate(10px, 0px) rotateZ(-2deg)}\n            100% {transform: translate(0px, 0px) rotateZ(0deg)}\n          }"}),(0,o.tZ)("div",{ref:m,css:(0,i.iv)({backgroundColor:"rgba(255,255,255,0.4)",width:"100%",height:"100%",position:"relative"}),children:w.map((e,t)=>(0,o.tZ)("div",{ref:x.current[t],css:(0,i.iv)({display:"none",position:"absolute",top:"0",left:"0"}),children:(0,o.tZ)("div",{ref:v.current[t],children:(0,o.tZ)(k,{width:f,shape:s[t]})})},t))})]})};var E=n(3450);let I=(0,i.iv)({display:"flex",gap:"0.8vw"}),P=(0,i.iv)({opacity:"0",transform:"translate(0px, -17px)",fontFamily:"Tetris",fontSize:"2.5rem",textAlign:"center",color:"#ff0000"}),S={autoAlpha:1,duration:2,x:0,y:0},N=e=>{let{visible:t,...n}=e,i=(0,a.useRef)(null),s=(0,a.useRef)(null),r=(0,a.useRef)(null),l=(0,a.useRef)(null),c=(0,a.useRef)(null),h=(0,a.useRef)(null),d=(0,a.useRef)(null),u=(0,a.useRef)(null);return(0,a.useEffect)(()=>{t&&(p.ZP.to(i.current,{delay:.6,...S}),p.ZP.to(s.current,{delay:.8,...S}),p.ZP.to(r.current,{delay:1,...S}),p.ZP.to(l.current,{delay:.6+.6000000000000001,...S}),p.ZP.to(c.current,{delay:1.4,...S}),p.ZP.to(h.current,{delay:1.6,...S}),p.ZP.to(d.current,{delay:.6+1.2000000000000002,...S}),p.ZP.to(u.current,{delay:2,...S}))},[i,s,r,l,c,h,d,u,t]),(0,o.BX)("div",{css:I,...n,children:[(0,o.tZ)("span",{css:P,ref:i,children:"G"}),(0,o.tZ)("span",{css:P,ref:s,children:"A"}),(0,o.tZ)("span",{css:P,ref:r,children:"M"}),(0,o.tZ)("span",{css:P,ref:l,children:"E"}),(0,o.tZ)("span",{css:P,ref:c,children:"O"}),(0,o.tZ)("span",{css:P,ref:h,children:"V"}),(0,o.tZ)("span",{css:P,ref:d,children:"E"}),(0,o.tZ)("span",{css:P,ref:u,children:"R"})]})};var T=n(1664),R=n.n(T),C=n(1163),F=n(4347),A=n.n(F),L=e=>{let{isGameOver:t,retryCallback:n}=e,s=(0,a.useRef)(null);(0,a.useEffect)(()=>{t&&p.ZP.to(s.current,{autoAlpha:1,duration:5,x:0,y:0})},[s,t]);let r=(0,C.useRouter)();return(0,o.BX)(o.HY,{children:[(0,o.tZ)("div",{ref:s,css:(0,i.iv)({pointerEvents:t?"auto":"none"}),className:"jsx-700063e8be0a459e "+(A().old_overlay||""),children:(0,o.tZ)("div",{className:"jsx-700063e8be0a459e "+(A().old_content||""),children:(0,o.BX)("div",{className:"jsx-700063e8be0a459e content-wrapper",children:[(0,o.tZ)(N,{visible:t}),(0,o.BX)("div",{className:"jsx-700063e8be0a459e buttonWrapper",children:[(0,o.tZ)(R(),{href:{pathname:"/",query:{...r.query}},passHref:!0,children:(0,o.tZ)("button",{className:"jsx-700063e8be0a459e button button__backHome",children:"ホームへ"})}),(0,o.tZ)("button",{onClick:n,className:"jsx-700063e8be0a459e button button__retry",children:"もう一度遊ぶ"})]})]})})}),(0,o.tZ)(x(),{id:"700063e8be0a459e",children:".content-wrapper.jsx-700063e8be0a459e{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;width:30vw;min-width:300px}.countLabel.jsx-700063e8be0a459e{font-size:1rem;font-weight:bold}.count.jsx-700063e8be0a459e{font-size:3rem;text-align:center;margin-left:-webkit-calc(18*var(--base));margin-left:-moz-calc(18*var(--base));margin-left:calc(18*var(--base))}.countUnit.jsx-700063e8be0a459e{font-size:1rem;font-weight:bold;margin-left:-webkit-calc(20*var(--base));margin-left:-moz-calc(20*var(--base));margin-left:calc(20*var(--base))}.ranking.jsx-700063e8be0a459e{font-size:2rem;text-align:center}.buttonWrapper.jsx-700063e8be0a459e{margin-top:-webkit-calc(var(--vh,1vh)*10);margin-top:-moz-calc(var(--vh,1vh)*10);margin-top:calc(var(--vh,1vh)*10);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;gap:10px;width:73%}.button.jsx-700063e8be0a459e{border:1px solid#aaa;-webkit-border-radius:18px;-moz-border-radius:18px;border-radius:18px;padding:5px 8px;text-align:center;width:30%;min-width:138px}.button__retry.jsx-700063e8be0a459e{color:green}.button__backHome.jsx-700063e8be0a459e{color:blue}"})]})},Z=n(5317);let z=(0,i.iv)({display:"flex",gap:"0.8vw"}),H=(0,i.iv)({opacity:"0",transform:"translate(0px, -100px)",fontFamily:"Tetris",fontSize:"2.5rem",textAlign:"center",color:"#00ff00"}),O=e=>{let{visible:t,...n}=e,i=(0,a.useRef)(null),s=(0,a.useRef)(null),r=(0,a.useRef)(null),l=(0,a.useRef)(null),c=(0,a.useRef)(null),h=(0,a.useRef)(null),d=(0,a.useRef)(null),u=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(t){let e={autoAlpha:1,duration:1,ease:Z.sm.easeOut,x:0,y:0};p.ZP.to(i.current,{delay:.3,...e}),p.ZP.to(s.current,{delay:.5,...e}),p.ZP.to(r.current,{delay:.7,...e}),p.ZP.to(l.current,{delay:.9000000000000001,...e}),p.ZP.to(c.current,{delay:1.1,...e}),p.ZP.to(h.current,{delay:1.3,...e}),p.ZP.to(d.current,{delay:1.5000000000000002,...e}),p.ZP.to(u.current,{delay:1.7000000000000002,...e})}},[i,s,r,l,c,h,d,u,t]),(0,o.BX)("div",{css:z,...n,children:[(0,o.tZ)("span",{css:H,ref:i,children:"G"}),(0,o.tZ)("span",{css:H,ref:s,children:"A"}),(0,o.tZ)("span",{css:H,ref:r,children:"M"}),(0,o.tZ)("span",{css:H,ref:l,children:"E"}),(0,o.tZ)("span",{css:H,ref:c,children:"C"}),(0,o.tZ)("span",{css:H,ref:h,children:"L"}),(0,o.tZ)("span",{css:H,ref:d,children:"E"}),(0,o.tZ)("span",{css:H,ref:u,children:"R"})]})};var B=e=>{let{isGameClear:t,count:n,ranking:s,retryCallback:r}=e,l=(0,a.useRef)(null);(0,a.useEffect)(()=>{window.setTimeout(()=>{t&&p.ZP.to(l.current,{autoAlpha:1,duration:5,x:0,y:0})},300)},[l,t]);let c=(0,C.useRouter)();return(0,o.BX)(o.HY,{children:[(0,o.tZ)("div",{ref:l,css:(0,i.iv)({pointerEvents:t?"auto":"none"}),className:"jsx-965a36cfedb8bd4a "+(A().old_overlay||""),children:(0,o.tZ)("div",{className:"jsx-965a36cfedb8bd4a "+(A().old_content||""),children:(0,o.BX)("div",{className:"jsx-965a36cfedb8bd4a content-wrapper",children:[(0,o.tZ)(O,{visible:t}),(0,o.BX)("div",{className:"jsx-965a36cfedb8bd4a countWrapper",children:[(0,o.tZ)("span",{className:"jsx-965a36cfedb8bd4a countLabel",children:"クリアタイム"}),(0,o.tZ)("span",{className:"jsx-965a36cfedb8bd4a count",children:n}),(0,o.tZ)("span",{className:"jsx-965a36cfedb8bd4a countUnit",children:"秒"})]}),(0,o.BX)("div",{className:"jsx-965a36cfedb8bd4a buttonWrapper",children:[(0,o.tZ)(R(),{href:{pathname:"/",query:{...c.query}},passHref:!0,children:(0,o.tZ)("button",{type:"button",className:"jsx-965a36cfedb8bd4a button button__backHome",children:"ホームへ"})}),(0,o.tZ)("button",{type:"button",onClick:r,className:"jsx-965a36cfedb8bd4a button button__retry",children:"もう一度遊ぶ"})]})]})})}),(0,o.tZ)(x(),{id:"965a36cfedb8bd4a",children:".title.jsx-965a36cfedb8bd4a{font-size:2rem;text-align:center}.content-wrapper.jsx-965a36cfedb8bd4a{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:-webkit-calc(var(--vh,1vh)*7);gap:-moz-calc(var(--vh,1vh)*7);gap:calc(var(--vh,1vh)*7);-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.countLabel.jsx-965a36cfedb8bd4a{font-size:1rem;font-weight:bold}.count.jsx-965a36cfedb8bd4a{font-size:3rem;text-align:center;margin-left:-webkit-calc(18*var(--base));margin-left:-moz-calc(18*var(--base));margin-left:calc(18*var(--base))}.countUnit.jsx-965a36cfedb8bd4a{font-size:1rem;font-weight:bold;margin-left:-webkit-calc(20*var(--base));margin-left:-moz-calc(20*var(--base));margin-left:calc(20*var(--base))}.ranking.jsx-965a36cfedb8bd4a{font-size:2rem;text-align:center}.buttonWrapper.jsx-965a36cfedb8bd4a{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;gap:10px;width:73%}.button.jsx-965a36cfedb8bd4a{border:1px solid#aaa;-webkit-border-radius:18px;-moz-border-radius:18px;border-radius:18px;padding:5px 8px;text-align:center;width:30%;min-width:138px}.button__retry.jsx-965a36cfedb8bd4a{color:green}.button__backHome.jsx-965a36cfedb8bd4a{color:blue}"})]})},D=n(4173);n(2130);var X=n(2355),W=n.n(X);async function j(e,t){let n=await (0,m._$)(e,w.LA.IMG_MAX_SIZE,t);if(!1===n)return!1;let o=n[0].length,i=n.length,s=[];s.push(w.L5[(0,m.DV)(w.L5)]);let r=U(new y(o,i,s,[[0,0]],()=>{},()=>{},()=>{},()=>{},()=>{},"","","").splitField(),n),a=V(o,i+w.LA.blankHeight);return{WIDTH:o,HEIGHT:i,MINOSINFO:r.OUTPUTMINOS,ANSPOSITIONS:r.OUTPUTPOSITIONS,ELEMENT_WIDTH:a.WIDTH,ELEMENT_HEIGHT:a.HEIGHT}}let U=(e,t)=>{let n="",o=[],i=[];for(;"0"!==G(e);){n=G(e);let s=e[0].length,r=e.length,a=0,l=0;for(let t=0;t<e.length;t++)for(let o=0;o<e[t].length;o++)e[t][o][0]===n&&(s>o&&(s=o),a<o&&(a=o),r>t&&(r=t),l<t&&(l=t));let c=(0,m.e8)(e,s,r,a,l),h=(0,m.e8)(t,s,r,a,l);for(let e=0;e<c.length;e++)for(let t=0;t<c[e].length;t++)c[e][t][0]!==n&&(h[e][t]="");e=Y(e,n),o.push(h),i.push([r,s])}return{OUTPUTMINOS:o,OUTPUTPOSITIONS:i}},G=e=>{for(let t=0;t<e.length;t++)for(let n=0;n<e[t].length;n++)if(""!==e[t][n][0])return e[t][n][0];return"0"},Y=(e,t)=>{for(let n=0;n<e.length;n++)for(let o=0;o<e[n].length;o++)e[n][o][0]===t&&(e[n][o][0]="");return e},V=(e,t)=>{let n=window.innerWidth,o=window.innerHeight,i=n/o,s=10,r=0,a=0;if(i>=1?(r=150*(s=o/315),a=280*s):i<1&&(r=150*(s=n/812),a=280*s),r/e>a/t){for(let n=Math.floor(a);n>=1;n--)if(n%t==0)return{WIDTH:e/t*n,HEIGHT:n}}else for(let n=Math.floor(r);n>=1;n--)if(n%e==0)return{WIDTH:n,HEIGHT:t/e*n};return{WIDTH:r,HEIGHT:t/e*r}};var $=JSON.parse('{"nm":"Wait ","mn":"","layers":[{"ty":4,"nm":"Shape Layer 1","mn":"","sr":1,"st":0,"op":600,"ip":0,"hd":false,"cl":"","ln":"","ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[-233,74,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":1,"k":[{"o":{"x":0.71,"y":0},"i":{"x":0.298,"y":1},"s":[308,569,0],"t":0,"ti":[-36.028,0,0],"to":[36.805,0,0]},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[745,569,0],"t":40}],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Group","nm":"Rectangle 1","ix":1,"cix":2,"np":2,"it":[{"ty":"rc","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Shape - Rect","nm":"Rectangle Path 1","d":1,"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":20,"ix":4},"s":{"a":0,"k":[50,36.765],"ix":2}},{"ty":"fl","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0,0.8,0.498],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[-233,74],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":1},{"ty":4,"nm":"W  Outlines","mn":"","sr":1,"st":0,"op":600,"ip":0,"hd":false,"cl":"","ln":"","ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[32.396,-0.244,0],"ix":1},"s":{"a":0,"k":[200,200,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":1,"k":[{"o":{"x":0.458,"y":0},"i":{"x":0.291,"y":1},"s":[408.355,587.5,0],"t":2,"ti":[0,0,0],"to":[0,-13.288,0]},{"o":{"x":0.706,"y":0},"i":{"x":0.667,"y":1},"s":[408.355,403.5,0],"t":16.574,"ti":[0,-30.667,0],"to":[0,0,0]},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[408.355,587.5,0],"t":32.19140625}],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Group","nm":"W","ix":1,"cix":2,"np":3,"it":[{"ty":"sh","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Shape - Group","nm":"W","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[53.026,-47.988],[46.303,-20.314],[39.179,-47.988],[27.614,-47.988],[21.066,-20.368],[14.353,-47.988],[0.492,-47.988],[13.242,0],[26.145,0],[32.484,-26.473],[39.198,0],[51.573,0],[64.301,-47.988]]},"ix":2}},{"ty":"fl","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0,0.8,0.498],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":2},{"ty":4,"nm":"a Outlines","mn":"","sr":1,"st":10,"op":610,"ip":0,"hd":false,"cl":"","ln":"","ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[22.957,-0.119,0],"ix":1},"s":{"a":0,"k":[200,200,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.291,"y":1},"s":[521.476,587.75,0],"t":3.561,"ti":[0,0,0],"to":[0,-30.833,0]},{"o":{"x":0.706,"y":0},"i":{"x":0.667,"y":1},"s":[521.476,402.75,0],"t":19.178,"ti":[0,-30.833,0],"to":[0,0,0]},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[521.476,587.75,0],"t":34.794921875}],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Group","nm":"a","ix":1,"cix":2,"np":5,"it":[{"ty":"sh","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Shape - Group","nm":"a","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[45.677,0],[30.626,-47.988],[15.052,-47.988],[0.237,0],[12.196,0],[15.077,-9.457],[27.933,-9.457],[30.645,0]]},"ix":2}},{"ty":"sh","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Shape - Group","nm":"a","ix":2,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[21.463,-33.854],[25.345,-19.934],[17.581,-19.934]]},"ix":2}},{"ty":"mm","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Filter - Merge","nm":"Merge Paths 1","mm":1},{"ty":"fl","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0,0.8,0.498],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":3},{"ty":4,"nm":"i Outlines","mn":"","sr":1,"st":0,"op":600,"ip":0,"hd":false,"cl":"","ln":"","ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[10.94,-0.119,0],"ix":1},"s":{"a":0,"k":[200,200,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.291,"y":1},"s":[605.442,587.75,0],"t":6.164,"ti":[0,0,0],"to":[0,-30.667,0]},{"o":{"x":0.706,"y":0},"i":{"x":0.667,"y":1},"s":[605.442,403.75,0],"t":21.781,"ti":[0,-30.667,0],"to":[0,0,0]},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[605.442,587.75,0],"t":37.396484375}],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Group","nm":"i","ix":1,"cix":2,"np":3,"it":[{"ty":"sh","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Shape - Group","nm":"i","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[3.575,-47.988],[3.575,0],[18.305,0],[18.305,-47.988]]},"ix":2}},{"ty":"fl","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0,0.8,0.498],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":4},{"ty":4,"nm":"t Outlines","mn":"","sr":1,"st":0,"op":600,"ip":0,"hd":false,"cl":"","ln":"","ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[17.053,0.006,0],"ix":1},"s":{"a":0,"k":[200,200,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.291,"y":1},"s":[678.667,588,0],"t":8.768,"ti":[0,0,0],"to":[0,-30.667,0]},{"o":{"x":0.706,"y":0},"i":{"x":0.667,"y":1},"s":[678.667,404,0],"t":24.383,"ti":[0,-30.667,0],"to":[0,0,0]},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[678.667,588,0],"t":40}],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Group","nm":"t","ix":1,"cix":2,"np":3,"it":[{"ty":"sh","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Shape - Group","nm":"t","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[33.855,-36.492],[33.855,-47.988],[0,-47.988],[0,-36.492],[9.949,-36.492],[9.949,0],[23.906,0],[23.906,-36.492]]},"ix":2}},{"ty":"fl","bm":0,"cl":"","ln":"","hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0,0.8,0.498],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":5}],"ddd":0,"h":1080,"w":1080,"meta":{"a":"","k":"","d":"","g":"@lottiefiles/toolkit-js 0.22.1","tc":"#000000"},"v":"5.8.1","fr":60,"op":41,"ip":0,"assets":[]}');let{publicRuntimeConfig:q}=r()(),K=(0,i.iv)({width:"100vw",position:"absolute",top:"0",left:"0",transformOrigin:"left top"});var Q=()=>{let e=()=>{(0,m.b1)()||!1!==P||(S(!0),D.Am.info("キーボードの方向キーでも操作できます。",{position:"top-center"}))},t=q&&q.basePath||"";(0,a.useLayoutEffect)(m.NB);let n=(0,C.useRouter)(),s=n.query.MODEL_IMAGE,r=n.query.FALL_SPEED,l=n.query.DIVIDER_NUM,c=n.query.USE_ROTATE,[h,d]=(0,a.useState)(null),g=(0,a.useRef)(null),y=(0,a.useRef)(null),b=(0,a.useRef)(null),x=(0,a.useRef)(null),[v,k]=(0,a.useState)(0),[M,I]=(0,f.N)(),[P,S]=(0,a.useState)(!1),N=(e,t)=>Math.floor(t*e)/t;(0,a.useEffect)(()=>{if(!y.current||!b.current||!x.current)return;let e=M/h.WIDTH,t=.9*I;if(M/I>1){let n=Math.min(.25*M/y.current.clientWidth,t/y.current.clientHeight),o=N(Math.min(.35*M/b.current.clientWidth,t/b.current.clientHeight),e),i=Math.min(.25*M/x.current.clientWidth,t/x.current.clientHeight),s=n*y.current.clientWidth,r=o*b.current.clientWidth,a=i*x.current.clientWidth,l=n*y.current.clientHeight,c=o*b.current.clientHeight,h=i*x.current.clientHeight,d=(M-s-r-a)/4;p.ZP.set(y.current,{x:d,y:(I-l)/2,scale:n}),p.ZP.set(b.current,{x:2*d+s,y:(I-c)/2,scale:o}),p.ZP.set(x.current,{x:3*d+s+r,y:(I-h)/2,scale:i})}else{let n=.45*M,o=N(Math.min(n/b.current.clientWidth,t/b.current.clientHeight),e),i=Math.min(n/y.current.clientWidth,.45*I/y.current.clientHeight),s=Math.min(n/x.current.clientWidth,.45*I/x.current.clientHeight),r=i*y.current.clientWidth,a=o*b.current.clientWidth,l=s*x.current.clientWidth,c=o*b.current.clientHeight,h=i*y.current.clientHeight,d=s*x.current.clientHeight,u=(M-a-n)/3,f=(I-h-1.2*d)/3;p.ZP.set(b.current,{x:u,y:(I-c)/2,scale:o}),p.ZP.set(y.current,{x:2*u+a+(n-r)/2,y:f,scale:i}),p.ZP.set(x.current,{x:2*u+a+(n-l)/2,y:2*f+h,scale:s})}k(e)},[y.current,b.current,x.current,M,I,h,s]);let T=async(e,t)=>{g.current&&(g.current=null),F.current=0,d(null),Z(!1),H(!1),"string"==typeof e&&"string"==typeof t&&d(await j(e,t))};(0,a.useEffect)(()=>{(0,m.Sj)(),null===g.current&&(g.current=window.setInterval(R,1e3)),T(s,l)},[s,l]);let R=()=>{F.current=F.current+1},F=(0,a.useRef)(0),[A,Z]=(0,a.useState)(!1),[z,H]=(0,a.useState)(!1);return(!1===h&&n.push("/error"),h)?(0,o.BX)(o.HY,{children:[(0,o.BX)("main",{className:W().main,style:{backgroundImage:"url('".concat(t,"/img/home/bk.webp')"),backgroundSize:"cover",backgroundRepeat:"no-repeat",userSelect:"none"},children:[(0,o.tZ)(D.Ix,{}),A&&(0,o.tZ)(B,{isGameClear:A,count:F.current,ranking:1,retryCallback:()=>{T(s,l)}}),z&&(0,o.tZ)(L,{isGameOver:z,retryCallback:()=>{T(s,l)}}),(0,o.tZ)("div",{ref:y,css:[K,(0,i.iv)({height:"".concat(100/h.WIDTH*h.HEIGHT,"vw")})],children:(0,o.tZ)("img",{src:n.query.MODEL_IMAGE,css:(0,i.iv)({width:"100%",maxHeight:"100%",objectFit:"contain"})})}),(0,o.tZ)("div",{ref:b,css:[K,(0,i.iv)({height:"".concat(100/h.WIDTH*(h.HEIGHT+w.LA.blankHeight),"vw")})],children:(0,o.tZ)(_,{width:h.WIDTH,height:h.HEIGHT,minosInfo:h.MINOSINFO,ansPositions:h.ANSPOSITIONS,gameClearCallBack:()=>{window.setTimeout(()=>{Z(!0)},500),null!==g.current&&window.clearInterval(g.current)},gameOverCallBack:()=>{window.setTimeout(()=>{H(!0)},500),null!==g.current&&window.clearInterval(g.current)},useUp:"",useRotate:n.query.USE_ROTATE,speed:n.query.FALL_SPEED,blockSize:v})}),(0,o.tZ)("div",{ref:x,css:[K,(0,i.iv)({height:"100vw"})],children:(0,o.tZ)(u,{disabledUp:r!==w.LA.FALL_SPEED[0].label,disabledL:c===w.LA.USE_ROTATE[0].label,disabledR:c===w.LA.USE_ROTATE[0].label,arrowUp:()=>{document.dispatchEvent(new KeyboardEvent("keydown",{code:"ArrowUp"})),e()},arrowDown:()=>{document.dispatchEvent(new KeyboardEvent("keydown",{code:"ArrowDown"})),e()},arrowLeft:()=>{document.dispatchEvent(new KeyboardEvent("keydown",{code:"ArrowLeft"})),e()},arrowRight:()=>{document.dispatchEvent(new KeyboardEvent("keydown",{code:"ArrowRight"})),e()},rotateLeft:()=>{document.dispatchEvent(new KeyboardEvent("keydown",{code:"Slash"})),e()},rotateRight:()=>{document.dispatchEvent(new KeyboardEvent("keydown",{code:"IntlRo"})),e()}})})]}),(0,o.tZ)("footer",{className:W().footer})]}):(0,o.tZ)("div",{css:(0,i.iv)({position:"fixed",width:"100%",height:"100vh",top:"0"}),children:(0,o.tZ)(E.Z,{json:$})})}},6507:function(e){e.exports={crossKeyWrapper:"Controller_crossKeyWrapper__f9FHP",LRWrapper:"Controller_LRWrapper__KhpKm",LRWrapper__row:"Controller_LRWrapper__row__kBbzV",arrow:"Controller_arrow__7h6wM",arrow__up:"Controller_arrow__up__mBvvp",arrow__left:"Controller_arrow__left__g2Twm",arrow__right:"Controller_arrow__right__Oi9W4",arrow__down:"Controller_arrow__down__fiOT4",rotate:"Controller_rotate__jfAkk"}},4347:function(e){e.exports={overlay:"Modal_overlay__2FT_F",overlay__visible:"Modal_overlay__visible__zrOqf",content:"Modal_content__04Bc4",old_overlay:"Modal_old_overlay__6UGpm",old_content:"Modal_old_content__Wek3L"}},2355:function(e){e.exports={main:"Play_main__vXAyt",playWrapper:"Play_playWrapper__Y8zVd",modelImgWrapper:"Play_modelImgWrapper__T3XMS",modelImg:"Play_modelImg__w9hfL",etrisField:"Play_etrisField__TxHXg",controller:"Play_controller__WapMG"}},2130:function(){},4173:function(e,t,n){"use strict";n.d(t,{Ix:function(){return A},Am:function(){return I}});var o=n(7294),i=function(){for(var e,t,n=0,o="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=function e(t){var n,o,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t){if(Array.isArray(t)){var s=t.length;for(n=0;n<s;n++)t[n]&&(o=e(t[n]))&&(i&&(i+=" "),i+=o)}else for(o in t)t[o]&&(i&&(i+=" "),i+=o)}return i}(e))&&(o&&(o+=" "),o+=t);return o};let s=e=>"number"==typeof e&&!isNaN(e),r=e=>"string"==typeof e,a=e=>"function"==typeof e,l=e=>r(e)||a(e)?e:null,c=e=>(0,o.isValidElement)(e)||r(e)||a(e)||s(e);function h(e){let{enter:t,exit:n,appendPosition:i=!1,collapse:s=!0,collapseDuration:r=300}=e;return function(e){let{children:a,position:l,preventExitTransition:c,done:h,nodeRef:d,isIn:u,playToast:f}=e,p=i?`${t}--${l}`:t,m=i?`${n}--${l}`:n,g=(0,o.useRef)(0);return(0,o.useLayoutEffect)(()=>{let e=d.current,t=p.split(" "),n=o=>{o.target===d.current&&(f(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===g.current&&"animationcancel"!==o.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)},[]),(0,o.useEffect)(()=>{let e=d.current,t=()=>{e.removeEventListener("animationend",t),s?function(e,t,n){void 0===n&&(n=300);let{scrollHeight:o,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=o+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}(e,h,r):h()};u||(c?t():(g.current=1,e.className+=` ${m}`,e.addEventListener("animationend",t)))},[u]),o.createElement(o.Fragment,null,a)}}function d(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}let u=new Map,f=[],p=new Set,m=e=>p.forEach(t=>t(e)),g=()=>u.size>0;function w(e,t){var n;if(t)return!(null==(n=u.get(t))||!n.isToastActive(e));let o=!1;return u.forEach(t=>{t.isToastActive(e)&&(o=!0)}),o}function y(e,t){c(e)&&(g()||f.push({content:e,options:t}),u.forEach(n=>{n.buildToast(e,t)}))}function b(e,t){u.forEach(n=>{null!=t&&null!=t&&t.containerId?(null==t?void 0:t.containerId)===n.id&&n.toggle(e,null==t?void 0:t.id):n.toggle(e,null==t?void 0:t.id)})}function x(e){let{delay:t,isRunning:n,closeToast:s,type:r="default",hide:l,className:c,style:h,controlledProgress:d,progress:u,rtl:f,isIn:p,theme:m}=e,g=l||d&&0===u,w={...h,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused"};d&&(w.transform=`scaleX(${u})`);let y=i("Toastify__progress-bar",d?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":f}),b=a(c)?c({rtl:f,type:r,defaultClassName:y}):i(y,c);return o.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":g},o.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${r}`}),o.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:b,style:w,[d&&u>=1?"onTransitionEnd":"onAnimationEnd"]:d&&u<1?null:()=>{p&&s()}}))}let v=1,k=()=>""+v++;function M(e,t){return y(e,t),t.toastId}function _(e,t){return{...t,type:t&&t.type||e,toastId:t&&(r(t.toastId)||s(t.toastId))?t.toastId:k()}}function E(e){return(t,n)=>M(t,_(e,n))}function I(e,t){return M(e,_("default",t))}I.loading=(e,t)=>M(e,_("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),I.promise=function(e,t,n){let o,{pending:i,error:s,success:l}=t;i&&(o=r(i)?I.loading(i,n):I.loading(i.render,{...n,...i}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(e,t,i)=>{if(null==t)return void I.dismiss(o);let s={type:e,...c,...n,data:i},a=r(t)?{render:t}:t;return o?I.update(o,{...s,...a}):I(a.render,{...s,...a}),i},d=a(e)?e():e;return d.then(e=>h("success",l,e)).catch(e=>h("error",s,e)),d},I.success=E("success"),I.info=E("info"),I.error=E("error"),I.warning=E("warning"),I.warn=I.warning,I.dark=(e,t)=>M(e,_("default",{theme:"dark",...t})),I.dismiss=function(e){!function(e){var t;if(g()){if(null==e||r(t=e)||s(t))u.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=u.get(e.containerId);t?t.removeToast(e.id):u.forEach(t=>{t.removeToast(e.id)})}}else f=f.filter(t=>null!=e&&t.options.toastId!==e)}(e)},I.clearWaitingQueue=function(e){void 0===e&&(e={}),u.forEach(t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()})},I.isActive=w,I.update=function(e,t){void 0===t&&(t={});let n=((e,t)=>{var n;let{containerId:o}=t;return null==(n=u.get(o||1))?void 0:n.toasts.get(e)})(e,t);if(n){let{props:o,content:i}=n,s={delay:100,...o,...t,toastId:t.toastId||e,updateId:k()};s.toastId!==e&&(s.staleId=e);let r=s.render||i;delete s.render,M(r,s)}},I.done=e=>{I.update(e,{progress:1})},I.onChange=function(e){return p.add(e),()=>{p.delete(e)}},I.play=e=>b(!0,e),I.pause=e=>b(!1,e);let P="undefined"!=typeof window?o.useLayoutEffect:o.useEffect,S=e=>{let{theme:t,type:n,isLoading:i,...s}=e;return o.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":`var(--toastify-icon-color-${n})`,...s})},N={info:function(e){return o.createElement(S,{...e},o.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return o.createElement(S,{...e},o.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return o.createElement(S,{...e},o.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return o.createElement(S,{...e},o.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return o.createElement("div",{className:"Toastify__spinner"})}},T=e=>{let{isRunning:t,preventExitTransition:n,toastRef:s,eventHandlers:r,playToast:l}=function(e){var t,n;let[i,s]=(0,o.useState)(!1),[r,a]=(0,o.useState)(!1),l=(0,o.useRef)(null),c=(0,o.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:d,closeToast:f,onClick:p,closeOnClick:m}=e;function g(){s(!0)}function w(){s(!1)}function y(t){let n=l.current;c.canDrag&&n&&(c.didMove=!0,i&&w(),c.delta="x"===e.draggableDirection?t.clientX-c.start:t.clientY-c.start,c.start!==t.clientX&&(c.canCloseOnClick=!1),n.style.transform=`translate3d(${"x"===e.draggableDirection?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`},0)`,n.style.opacity=""+(1-Math.abs(c.delta/c.removalDistance)))}function b(){document.removeEventListener("pointermove",y),document.removeEventListener("pointerup",b);let t=l.current;if(c.canDrag&&c.didMove&&t){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance)return a(!0),e.closeToast(),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}null==(n=u.get((t={id:e.toastId,containerId:e.containerId,fn:s}).containerId||1))||n.setToggle(t.id,t.fn),(0,o.useEffect)(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||w(),window.addEventListener("focus",g),window.addEventListener("blur",w),()=>{window.removeEventListener("focus",g),window.removeEventListener("blur",w)}},[e.pauseOnFocusLoss]);let x={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){c.didMove=!1,document.addEventListener("pointermove",y),document.addEventListener("pointerup",b);let n=l.current;c.canCloseOnClick=!0,c.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(c.start=t.clientX,c.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(c.start=t.clientY,c.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:n,bottom:o,left:i,right:s}=l.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=i&&t.clientX<=s&&t.clientY>=n&&t.clientY<=o?w():g()}};return h&&d&&(x.onMouseEnter=w,e.stacked||(x.onMouseLeave=g)),m&&(x.onClick=e=>{p&&p(e),c.canCloseOnClick&&f()}),{playToast:g,pauseToast:w,isRunning:i,preventExitTransition:r,toastRef:l,eventHandlers:x}}(e),{closeButton:c,children:h,autoClose:d,onClick:f,type:p,hideProgressBar:m,closeToast:g,transition:w,position:y,className:b,style:v,bodyClassName:k,bodyStyle:M,progressClassName:_,progressStyle:E,updateId:I,role:P,progress:S,rtl:T,toastId:R,deleteToast:C,isIn:F,isLoading:A,closeOnClick:L,theme:Z}=e,z=i("Toastify__toast",`Toastify__toast-theme--${Z}`,`Toastify__toast--${p}`,{"Toastify__toast--rtl":T},{"Toastify__toast--close-on-click":L}),H=a(b)?b({rtl:T,position:y,type:p,defaultClassName:z}):i(z,b),O=function(e){let{theme:t,type:n,isLoading:i,icon:s}=e,r=null,l={theme:t,type:n};return!1===s||(a(s)?r=s({...l,isLoading:i}):(0,o.isValidElement)(s)?r=(0,o.cloneElement)(s,l):i?r=N.spinner():n in N&&(r=N[n](l))),r}(e),B=!!S||!d,D={closeToast:g,type:p,theme:Z},X=null;return!1===c||(X=a(c)?c(D):(0,o.isValidElement)(c)?(0,o.cloneElement)(c,D):function(e){let{closeToast:t,theme:n,ariaLabel:i="close"}=e;return o.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":i},o.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},o.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(D)),o.createElement(w,{isIn:F,done:C,position:y,preventExitTransition:n,nodeRef:s,playToast:l},o.createElement("div",{id:R,onClick:f,"data-in":F,className:H,...r,style:v,ref:s},o.createElement("div",{...F&&{role:P},className:a(k)?k({type:p}):i("Toastify__toast-body",k),style:M},null!=O&&o.createElement("div",{className:i("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!A})},O),o.createElement("div",null,h)),X,o.createElement(x,{...I&&!B?{key:`pb-${I}`}:{},rtl:T,theme:Z,delay:d,isRunning:t,isIn:F,closeToast:g,hide:m,type:p,style:E,className:_,controlledProgress:B,progress:S||0})))},R=function(e,t){return void 0===t&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},C=h(R("bounce",!0)),F=(h(R("slide",!0)),h(R("zoom")),h(R("flip")),{position:"top-right",transition:C,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"});function A(e){let t={...F,...e},n=e.stacked,[h,p]=(0,o.useState)(!0),g=(0,o.useRef)(null),{getToastToRender:b,isToastActive:x,count:v}=function(e){let{subscribe:t,getSnapshot:n,setProps:i}=(0,o.useRef)(function(e){let t=e.containerId||1;return{subscribe(n){let i=function(e,t,n){let i=1,h=0,u=[],f=[],p=[],m=t,g=new Map,w=new Set,y=()=>{p=Array.from(g.values()),w.forEach(e=>e())},b=e=>{f=null==e?[]:f.filter(t=>t!==e),y()},x=e=>{let{toastId:t,onOpen:i,updateId:s,children:r}=e.props,l=null==s;e.staleId&&g.delete(e.staleId),g.set(t,e),f=[...f,e.props.toastId].filter(t=>t!==e.staleId),y(),n(d(e,l?"added":"updated")),l&&a(i)&&i((0,o.isValidElement)(r)&&r.props)};return{id:e,props:m,observe:e=>(w.add(e),()=>w.delete(e)),toggle:(e,t)=>{g.forEach(n=>{null!=t&&t!==n.props.toastId||a(n.toggle)&&n.toggle(e)})},removeToast:b,toasts:g,clearQueue:()=>{h-=u.length,u=[]},buildToast:(t,f)=>{var p,w;if((t=>{let{containerId:n,toastId:o,updateId:i}=t,s=g.has(o)&&null==i;return(n?n!==e:1!==e)||s})(f))return;let{toastId:v,updateId:k,data:M,staleId:_,delay:E}=f,I=()=>{b(v)},P=null==k;P&&h++;let S={...m,style:m.toastStyle,key:i++,...Object.fromEntries(Object.entries(f).filter(e=>{let[t,n]=e;return null!=n})),toastId:v,updateId:k,data:M,closeToast:I,isIn:!1,className:l(f.className||m.toastClassName),bodyClassName:l(f.bodyClassName||m.bodyClassName),progressClassName:l(f.progressClassName||m.progressClassName),autoClose:!f.isLoading&&(p=f.autoClose,w=m.autoClose,!1===p||s(p)&&p>0?p:w),deleteToast(){let e=g.get(v),{onClose:t,children:i}=e.props;a(t)&&t((0,o.isValidElement)(i)&&i.props),n(d(e,"removed")),g.delete(v),--h<0&&(h=0),u.length>0?x(u.shift()):y()}};S.closeButton=m.closeButton,!1===f.closeButton||c(f.closeButton)?S.closeButton=f.closeButton:!0===f.closeButton&&(S.closeButton=!c(m.closeButton)||m.closeButton);let N=t;(0,o.isValidElement)(t)&&!r(t.type)?N=(0,o.cloneElement)(t,{closeToast:I,toastProps:S,data:M}):a(t)&&(N=t({closeToast:I,toastProps:S,data:M}));let T={content:N,props:S,staleId:_};m.limit&&m.limit>0&&h>m.limit&&P?u.push(T):s(E)?setTimeout(()=>{x(T)},E):x(T)},setProps(e){m=e},setToggle:(e,t)=>{g.get(e).toggle=t},isToastActive:e=>f.some(t=>t===e),getSnapshot:()=>m.newestOnTop?p.reverse():p}}(t,e,m);u.set(t,i);let h=i.observe(n);return f.forEach(e=>y(e.content,e.options)),f=[],()=>{h(),u.delete(t)}},setProps(e){var n;null==(n=u.get(t))||n.setProps(e)},getSnapshot(){var e;return null==(e=u.get(t))?void 0:e.getSnapshot()}}}(e)).current;i(e);let h=(0,o.useSyncExternalStore)(t,n,n);return{getToastToRender:function(e){if(!h)return[];let t=new Map;return h.forEach(e=>{let{position:n}=e.props;t.has(n)||t.set(n,[]),t.get(n).push(e)}),Array.from(t,t=>e(t[0],t[1]))},isToastActive:w,count:null==h?void 0:h.length}}(t),{className:k,style:M,rtl:_,containerId:E}=t;function S(){n&&(p(!0),I.play())}return P(()=>{if(n){var e;let n=g.current.querySelectorAll('[data-in="true"]'),o=null==(e=t.position)?void 0:e.includes("top"),i=0,s=0;Array.from(n).reverse().forEach((e,t)=>{e.classList.add("Toastify__toast--stacked"),t>0&&(e.dataset.collapsed=`${h}`),e.dataset.pos||(e.dataset.pos=o?"top":"bot");let n=i*(h?.2:1)+(h?0:12*t);e.style.setProperty("--y",`${o?n:-1*n}px`),e.style.setProperty("--g","12"),e.style.setProperty("--s",""+(1-(h?s:0))),i+=e.offsetHeight,s+=.025})}},[h,v,n]),o.createElement("div",{ref:g,className:"Toastify",id:E,onMouseEnter:()=>{n&&(p(!1),I.pause())},onMouseLeave:S},b((e,t)=>{let s=t.length?{...M}:{...M,pointerEvents:"none"};return o.createElement("div",{className:function(e){let t=i("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":_});return a(k)?k({position:e,rtl:_,defaultClassName:t}):i(t,l(k))}(e),style:s,key:`container-${e}`},t.map(e=>{let{content:t,props:i}=e;return o.createElement(T,{...i,stacked:n,collapseAll:S,isIn:x(i.toastId,i.containerId),style:i.style,key:`toast-${i.key}`},t)}))}))}}},function(e){e.O(0,[498,802,79,664,822,964,888,774,179],function(){return e(e.s=7454)}),_N_E=e.O()}]);